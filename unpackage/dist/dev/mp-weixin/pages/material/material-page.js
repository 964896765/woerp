(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/material/material-page"],{

/***/ 110:
/*!**********************************************************************!*\
  !*** C:/Users/chejun/Desktop/woerp/pages/material/material-page.vue ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _material_page_vue_vue_type_template_id_421059c6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./material-page.vue?vue&type=template&id=421059c6&scoped=true& */ 111);
/* harmony import */ var _material_page_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./material-page.vue?vue&type=script&lang=js& */ 113);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _material_page_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _material_page_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _material_page_vue_vue_type_style_index_0_id_421059c6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./material-page.vue?vue&type=style&index=0&id=421059c6&scoped=true&lang=css& */ 115);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 32);

var renderjs





/* normalize component */

var component = Object(_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _material_page_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _material_page_vue_vue_type_template_id_421059c6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _material_page_vue_vue_type_template_id_421059c6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "421059c6",
  null,
  false,
  _material_page_vue_vue_type_template_id_421059c6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/material/material-page.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 111:
/*!*****************************************************************************************************************!*\
  !*** C:/Users/chejun/Desktop/woerp/pages/material/material-page.vue?vue&type=template&id=421059c6&scoped=true& ***!
  \*****************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_template_id_421059c6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./material-page.vue?vue&type=template&id=421059c6&scoped=true& */ 112);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_template_id_421059c6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_template_id_421059c6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_template_id_421059c6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_template_id_421059c6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 112:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/chejun/Desktop/woerp/pages/material/material-page.vue?vue&type=template&id=421059c6&scoped=true& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
try {
  components = {
    customKeyboard: function () {
      return __webpack_require__.e(/*! import() | components/custom-keyboard/custom-keyboard */ "components/custom-keyboard/custom-keyboard").then(__webpack_require__.bind(null, /*! @/components/custom-keyboard/custom-keyboard.vue */ 124))
    },
  }
} catch (e) {
  if (
    e.message.indexOf("Cannot find module") !== -1 &&
    e.message.indexOf(".vue") !== -1
  ) {
    console.error(e.message)
    console.error("1. ÊéíÊü•ÁªÑ‰ª∂ÂêçÁß∞ÊãºÂÜôÊòØÂê¶Ê≠£Á°Æ")
    console.error(
      "2. ÊéíÊü•ÁªÑ‰ª∂ÊòØÂê¶Á¨¶Âêà easycom ËßÑËåÉÔºåÊñáÊ°£Ôºöhttps://uniapp.dcloud.net.cn/collocation/pages?id=easycom"
    )
    console.error(
      "3. Ëã•ÁªÑ‰ª∂‰∏çÁ¨¶Âêà easycom ËßÑËåÉÔºåÈúÄÊâãÂä®ÂºïÂÖ•ÔºåÂπ∂Âú® components ‰∏≠Ê≥®ÂÜåËØ•ÁªÑ‰ª∂"
    )
  } else {
    throw e
  }
}
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var g0 = _vm.flatMaterials.length
  var l0 = _vm.__map(_vm.flatMaterials, function (m, idx) {
    var $orig = _vm.__get_orig(m)
    var m0 = _vm.nid === 2 ? _vm.getDepartmentNameByCode(m.department) : null
    return {
      $orig: $orig,
      m0: m0,
    }
  })
  var g1 = _vm.cartList.length
  var l1 = _vm.cartOpen
    ? _vm.__map(_vm.cartList, function (it, i) {
        var $orig = _vm.__get_orig(it)
        var g2 = !(it.delta > 0) ? Math.abs(it.delta) : null
        return {
          $orig: $orig,
          g2: g2,
        }
      })
    : null
  var l2 = _vm.showCalculationModal
    ? _vm.__map(
        _vm.calculationDetails.outboundRecords,
        function (record, __i1__) {
          var $orig = _vm.__get_orig(record)
          var m1 = _vm.getDepartmentName(record.toDepartment)
          return {
            $orig: $orig,
            m1: m1,
          }
        }
      )
    : null
  var l3 = _vm.showCalculationModal
    ? _vm.__map(_vm.calculationDetails.bomRequirements, function (req, reqIdx) {
        var $orig = _vm.__get_orig(req)
        var m2 = _vm.getDepartmentName(req.department)
        return {
          $orig: $orig,
          m2: m2,
        }
      })
    : null
  if (!_vm._isMounted) {
    _vm.e0 = function (val) {
      return (_vm.qtyDialog = val)
    }
  }
  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        g0: g0,
        l0: l0,
        g1: g1,
        l1: l1,
        l2: l2,
        l3: l3,
      },
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 113:
/*!***********************************************************************************************!*\
  !*** C:/Users/chejun/Desktop/woerp/pages/material/material-page.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./material-page.vue?vue&type=script&lang=js& */ 114);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 114:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/chejun/Desktop/woerp/pages/material/material-page.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni, wx) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ 65));
var _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 67));
var _toConsumableArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ 18));
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _util = __webpack_require__(/*! @/common/util.js */ 39);
var _constants = __webpack_require__(/*! @/store/constants.js */ 76);
var _name$components$prop;
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
var OutboundTypePicker = function OutboundTypePicker() {
  __webpack_require__.e(/*! require.ensure | components/outbound-type-picker/OutboundTypePicker */ "components/outbound-type-picker/OutboundTypePicker").then((function () {
    return resolve(__webpack_require__(/*! @/components/outbound-type-picker/OutboundTypePicker.vue */ 138));
  }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
};
var _default = (_name$components$prop = {
  name: 'materialPage',
  components: {
    OutboundTypePicker: OutboundTypePicker
  },
  props: {
    nid: {
      type: Number,
      default: 0
    }
  },
  data: function data() {
    var _ref;
    return _ref = {
      // Áî®Êà∑‰∫§‰∫íÁä∂ÊÄÅ
      _userInteracted: false,
      // ÂÆπÂô®È´òÂ∫¶ÔºàÂÉèÁ¥†Ôºâ
      containerHeightPx: 0,
      // ÂÆπÂô®È°∂ÈÉ®‰ΩçÁΩÆÔºàÂÉèÁ¥†Ôºâ
      containerTopPx: 0,
      // ÂÆπÂô®Âõ∫ÂÆöÂÆö‰ΩçÂºÄÂÖ≥
      containerFixed: false,
      // Âè≥‰æßÂàóË°®È´òÂ∫¶ÔºàÂÉèÁ¥†Ôºâ
      rightListHeightPx: 0,
      // Â§¥ÈÉ®‰∏äÊªëÈöêËóèËøõÂ∫¶ÔºàÈ°µÂÜÖÈ°∂Âá∫Â§¥ÈÉ®Ôºâ
      headHidePx: 0,
      // ÂΩìÂâçÂ∑≤ÈöêËóèÁöÑÈ´òÂ∫¶ÔºàpxÔºâ
      _headHideMaxPx: 0,
      // ÊúÄÂ§ßÂèØÈöêËóèÈ´òÂ∫¶ÔºàpxÔºâÔºåmounted ‰∏≠ËÆ°ÁÆó
      _prevScrollTop: 0,
      // ‰∏ä‰∏ÄÊ¨°ÊªöÂä®‰ΩçÁΩÆÔºàÁî®‰∫éÂà§Êñ≠ÊñπÂêë/Â¢ûÈáèÔºâ
      _containerTopBasePx: 0,
      // ÂàùÂßãÂÆπÂô® top Âü∫Á∫øÔºàÈÅøÂÖç windowTop Ê≥¢Âä®Ôºâ

      // ÊãñÊãΩÁä∂ÊÄÅÁúãÈó®Áãó
      _dragWatch: null,
      _lastMoveTs: 0,
      // Âè≥‰æßÊäΩÂ±â
      drawerOpen: false,
      drawerDragging: false,
      drawerWidthPx: 0,
      drawerRightPx: 0,
      swipe: {
        tracking: false,
        startX: 0,
        startY: 0,
        lastX: 0
      },
      // Ê®™ÂêëÊç¢Ê†èÊâãÂäø
      axisSwipe: {
        tracking: false,
        startX: 0,
        startY: 0,
        lastX: 0,
        consumed: false
      },
      // ÈÄâÊã©/ÊãñÊãΩ
      selectedCategory: null,
      selectedCategories: [],
      selectedMaterials: [],
      // ÊãñÊãΩÁä∂ÊÄÅÔºàÁªü‰∏ÄÁâàÔºâ
      isDragging: false,
      isInDeleteZone: false,
      dragScrollLock: false,
      dragTarget: null,
      // { type:'category'|'material', id, payload }

      // Êñ∞Â¢ûÔºöÂÆåÊï¥ÊãñÊãΩÂäüËÉΩÊï∞ÊçÆ
      dragItem: null,
      dragIndex: -1,
      // Ë∑üÊâãÂùêÊ†áÔºàpxÔºâ
      dragX: 0,
      dragY: 0,
      // Âà†Èô§Âå∫ÂëΩ‰∏≠
      deleteZoneRect: null,
      _lastHit: false,
      // Ëá™ÂÆö‰πâÈïøÊåâÂà§ÂÆöÔºàÂèØÈÄâÔºâ
      _lpTimer: null,
      _pressed: false,
      _longpressArmed: false,
      _startCandidate: null,
      // Êô∫ËÉΩÂà†Èô§Âå∫Êï∞ÊçÆ
      zoneSide: 'bottom',
      // 'top' | 'bottom'
      zoneVisible: false,
      // ÊéßÂà∂ enter/leave Âä®Áîª
      zoneStyle: {},
      // ÂÆâÂÖ®Âå∫/ÈîÆÁõòË°•ÂÅøÁ≠âÂèØÊîæËøôÈáå

      _winH: 0,
      _safeTop: 0,
      _safeBottom: 0,
      // ÈÄâÈ°πÂç°ÂàÜÁ±ª
      tabCategories: {
        0: [{
          id: 1,
          name: 'ÊùêÊñô1'
        }, {
          id: 2,
          name: 'ÊùêÊñô2'
        }, {
          id: 3,
          name: 'ÊùêÊñô3'
        }, {
          id: 4,
          name: 'ÊùêÊñô4'
        }, {
          id: 5,
          name: 'ÊùêÊñô5'
        }],
        1: [{
          id: 1,
          name: 'ÊùêÊñô1'
        }, {
          id: 2,
          name: 'ÊùêÊñô2'
        }, {
          id: 3,
          name: 'ÊùêÊñô3'
        }, {
          id: 4,
          name: 'ÊùêÊñô4'
        }, {
          id: 5,
          name: 'ÊùêÊñô5'
        }],
        2: [{
          id: 1,
          name: 'DWII01A'
        }, {
          id: 2,
          name: 'DWII02A'
        }, {
          id: 3,
          name: 'DWII03A'
        }, {
          id: 4,
          name: 'DWII04A'
        }, {
          id: 5,
          name: 'DWII05A'
        }],
        3: [{
          id: 1,
          name: 'ÂåÖË£ÖÁõí'
        }, {
          id: 2,
          name: 'Èò≤ÊΩÆË¢ã'
        }, {
          id: 3,
          name: 'ÁºìÂÜ≤ÊùêÊñô'
        }, {
          id: 4,
          name: 'Ê†áÁ≠æË¥¥Á∫∏'
        }, {
          id: 5,
          name: 'ËØ¥Êòé‰π¶'
        }, {
          id: 6,
          name: 'ÂêàÊ†ºËØÅ'
        }],
        4: [{
          id: 1,
          name: 'Á°ÖÁ¢≥Á≤â'
        }, {
          id: 2,
          name: 'ÂØºÁîµÂâÇ'
        }, {
          id: 3,
          name: 'Á≤òÁªìÂâÇ'
        }, {
          id: 4,
          name: 'Ê∫∂ÂâÇ'
        }, {
          id: 5,
          name: 'Ê∑ªÂä†ÂâÇ'
        }, {
          id: 6,
          name: 'ÂÇ¨ÂåñÂâÇ'
        }],
        5: [{
          id: 1,
          name: 'ÂæÖÊ£ÄÈ™å'
        }, {
          id: 2,
          name: 'ÂæÖÂÖ•Â∫ì'
        }, {
          id: 3,
          name: 'ÂæÖÂá∫Â∫ì'
        }, {
          id: 4,
          name: 'ÂæÖÊä•Â∫ü'
        }, {
          id: 5,
          name: 'ÂæÖÈÄÄË¥ß'
        }, {
          id: 6,
          name: 'ÂºÇÂ∏∏Â§ÑÁêÜ'
        }]
      },
      // ÊùêÊñôÁªÑÔºàÁ§∫‰æãÊï∞ÊçÆÔºâ
      groups: [
      // ‰∏ªÊùê‰ªì (tab 0)
      {
        scope: 0,
        title: 'ÊùêÊñô1',
        materials: [{
          id: 1001,
          code: 'ELY-001',
          name: 'ÊùêÊñô1',
          quantity: 520,
          batch: '20250920',
          spec: '4.5V'
        }]
      }, {
        scope: 0,
        title: 'ÊùêÊñô2',
        materials: [{
          id: 1002,
          code: 'ELY-002',
          name: 'ÊùêÊñô2',
          quantity: 300,
          batch: '20250921',
          spec: '-30‚ÑÉ'
        }]
      }, {
        scope: 0,
        title: 'ÊùêÊñô3',
        materials: [{
          id: 1003,
          code: 'ELY-003',
          name: 'ÊùêÊñô3',
          quantity: 260,
          batch: '20250922',
          spec: '6.0V'
        }]
      }, {
        scope: 0,
        title: 'ÊùêÊñô4',
        materials: [{
          id: 1004,
          code: 'ELY-004',
          name: 'ÊùêÊñô4',
          quantity: 180,
          batch: '20250923',
          spec: '3.7V'
        }]
      }, {
        scope: 0,
        title: 'ÊùêÊñô5',
        materials: [{
          id: 1005,
          code: 'ELY-005',
          name: 'ÊùêÊñô5',
          quantity: 220,
          batch: '20250924',
          spec: '5.2V'
        }]
      },
      // ËΩ¶Èó¥‰ªì (tab 1)
      {
        scope: 1,
        title: 'ÊùêÊñô1',
        materials: [{
          id: 2001,
          code: 'ELY-001',
          name: 'ÊùêÊñô1',
          quantity: 20,
          batch: '20250910',
          spec: '3.7V'
        }]
      }, {
        scope: 1,
        title: 'ÊùêÊñô2',
        materials: [{
          id: 2002,
          code: 'ELY-002',
          name: 'ÊùêÊñô2',
          quantity: 5,
          batch: '20250911',
          spec: '4.2V'
        }]
      }, {
        scope: 1,
        title: 'ÊùêÊñô3',
        materials: [{
          id: 2003,
          code: 'ELY-003',
          name: 'ÊùêÊñô3',
          quantity: -5,
          batch: '20250912',
          spec: '6.0V'
        }]
      }, {
        scope: 1,
        title: 'ÊùêÊñô4',
        materials: [{
          id: 2004,
          code: 'ELY-004',
          name: 'ÊùêÊñô4',
          quantity: -10,
          batch: '20250905',
          spec: '3.7V'
        }]
      }, {
        scope: 1,
        title: 'ÊùêÊñô5',
        materials: [{
          id: 2005,
          code: 'ELY-005',
          name: 'ÊùêÊñô5',
          quantity: -5,
          batch: '20250906',
          spec: '5.2V'
        }]
      },
      // BOM (tab 2)
      {
        scope: 2,
        title: 'DWII01A',
        materials: [{
          id: 3001,
          code: 'ELY-001',
          name: 'ÊùêÊñô1',
          quantity: 50,
          department: 'MIXING',
          spec: 'ÈÖçÊñôÁî®'
        }, {
          id: 3002,
          code: 'ELY-002',
          name: 'ÊùêÊñô2',
          quantity: 30,
          department: 'COATING',
          spec: 'Âà∂ÁâáÁî®'
        }]
      }, {
        scope: 2,
        title: 'DWII02A',
        materials: [{
          id: 3003,
          code: 'ELY-003',
          name: 'ÊùêÊñô3',
          quantity: 40,
          department: 'WINDING',
          spec: 'Âç∑ÁªïÁî®'
        }, {
          id: 3004,
          code: 'ELY-004',
          name: 'ÊùêÊñô4',
          quantity: 25,
          department: 'PACKAGING',
          spec: 'Â∞ÅË£ÖÁî®'
        }]
      }, {
        scope: 2,
        title: 'DWII03A',
        materials: [{
          id: 3005,
          code: 'ELY-005',
          name: 'ÊùêÊñô5',
          quantity: 35,
          department: 'FILLING',
          spec: 'Ê≥®Ê∂≤Áî®'
        }, {
          id: 3006,
          code: 'ELY-006',
          name: 'ÊùêÊñô6',
          quantity: 20,
          department: 'PACKING',
          spec: 'ÂåÖË£ÖÁî®'
        }]
      }],
      // Ë¥≠Áâ©ËΩ¶
      cartList: [],
      qtyDialog: false,
      opType: 'in',
      qtyStr: '',
      opMat: null,
      // ÊåâBOMÊâπÈáèÂèëÊñôÔºà‰øùÁïôÁî®ÁöÑËØùÈúÄË¶ÅËøô‰∫õÔºâ
      showBatchIssueDialog: false,
      selectedDepartment: null,
      selectedBom: null,
      batchQuantity: 1,
      issuePreview: [],
      cartOpen: false
    }, (0, _defineProperty2.default)(_ref, "_safeBottom", 0), (0, _defineProperty2.default)(_ref, "fabBottomPx", 0), (0, _defineProperty2.default)(_ref, "cartBottomPx", 0), (0, _defineProperty2.default)(_ref, "modalShiftPx", 0), (0, _defineProperty2.default)(_ref, "showAddCategoryModal", false), (0, _defineProperty2.default)(_ref, "showAddMaterialModal", false), (0, _defineProperty2.default)(_ref, "newCategoryName", ''), (0, _defineProperty2.default)(_ref, "newMaterial", {
      code: '',
      name: '',
      quantity: 0,
      batch: '',
      spec: ''
    }), (0, _defineProperty2.default)(_ref, "productionDepartments", [{
      id: 1,
      name: 'ÈÖçÊñô',
      code: 'MIXING'
    }, {
      id: 2,
      name: 'Âà∂Áâá',
      code: 'COATING'
    }, {
      id: 3,
      name: 'Âç∑Áªï',
      code: 'WINDING'
    }, {
      id: 4,
      name: 'Â∞ÅË£Ö',
      code: 'PACKAGING'
    }, {
      id: 5,
      name: 'Ê≥®Ê∂≤',
      code: 'FILLING'
    }, {
      id: 6,
      name: 'ÂåÖË£Ö',
      code: 'PACKING'
    }]), (0, _defineProperty2.default)(_ref, "outboundRecords", [{
      id: 1,
      materialCode: 'ELY-001',
      materialName: 'ÊùêÊñô1',
      fromWarehouse: 'main',
      toDepartment: 'MIXING',
      quantity: 50,
      date: '2025-09-20'
    }, {
      id: 2,
      materialCode: 'ELY-001',
      materialName: 'ÊùêÊñô1',
      fromWarehouse: 'main',
      toDepartment: 'COATING',
      quantity: 30,
      date: '2025-09-21'
    }, {
      id: 3,
      materialCode: 'ELY-002',
      materialName: 'ÊùêÊñô2',
      fromWarehouse: 'main',
      toDepartment: 'WINDING',
      quantity: 40,
      date: '2025-09-22'
    }]), (0, _defineProperty2.default)(_ref, "bomRequirements", [{
      materialCode: 'ELY-001',
      materialName: 'ÊùêÊñô1',
      requiredQuantity: 60,
      department: 'MIXING'
    }, {
      materialCode: 'ELY-001',
      materialName: 'ÊùêÊñô1',
      requiredQuantity: 40,
      department: 'COATING'
    }, {
      materialCode: 'ELY-002',
      materialName: 'ÊùêÊñô2',
      requiredQuantity: 35,
      department: 'WINDING'
    }]), (0, _defineProperty2.default)(_ref, "showCalculationModal", false), (0, _defineProperty2.default)(_ref, "selectedMaterialForCalc", null), (0, _defineProperty2.default)(_ref, "calculationDetails", {
      outboundRecords: [],
      bomRequirements: [],
      totalOutbound: 0,
      totalRequired: 0,
      finalQuantity: 0
    }), (0, _defineProperty2.default)(_ref, "showBatchOutboundDialog", false), (0, _defineProperty2.default)(_ref, "selectedBatch", null), (0, _defineProperty2.default)(_ref, "selectedOutboundDepartment", null), (0, _defineProperty2.default)(_ref, "outboundPreview", []), (0, _defineProperty2.default)(_ref, "usedBatches", []), (0, _defineProperty2.default)(_ref, "outboundType", ''), (0, _defineProperty2.default)(_ref, "bomList", [{
      id: 1,
      name: 'DWII01A',
      spec: '3.7V 2600mAh',
      department: 'MIXING',
      materials: [{
        materialCode: 'ELY-001',
        materialName: 'ÊùêÊñô1',
        requiredQuantity: 10
      }, {
        materialCode: 'ELY-002',
        materialName: 'ÊùêÊñô2',
        requiredQuantity: 5
      }]
    }, {
      id: 2,
      name: 'DWII02A',
      spec: '3.7V 3000mAh',
      department: 'COATING',
      materials: [{
        materialCode: 'ELY-001',
        materialName: 'ÊùêÊñô1',
        requiredQuantity: 8
      }, {
        materialCode: 'ELY-003',
        materialName: 'ÊùêÊñô3',
        requiredQuantity: 12
      }]
    }, {
      id: 3,
      name: 'DWII03A',
      spec: '3.7V 3500mAh',
      department: 'WINDING',
      materials: [{
        materialCode: 'ELY-002',
        materialName: 'ÊùêÊñô2',
        requiredQuantity: 15
      }, {
        materialCode: 'ELY-004',
        materialName: 'ÊùêÊñô4',
        requiredQuantity: 7
      }]
    }]), _ref;
  },
  watch: {
    isDragging: function isDragging(v) {
      var _this = this;
      if (v) {
        this._lastMoveTs = Date.now();
        clearInterval(this._dragWatch);
        this._dragWatch = setInterval(function () {
          if (!_this.isDragging) return;
          if (Date.now() - _this._lastMoveTs > 2000) {
            _this.teardownDeleteZone();
            _this._resetDrag();
            clearInterval(_this._dragWatch);
          }
        }, 500);
      } else {
        clearInterval(this._dragWatch);
        this.dragScrollLock = false;
      }
    },
    nid: {
      immediate: true,
      handler: function handler(v) {
        var _this2 = this;
        var cats = this.tabCategories[v] || this.tabCategories[0];
        this.selectedCategory = cats[0];
        // Á°Æ‰øùÂΩìÂâçÊ†áÁ≠æ‰∏ãÁöÑÊâÄÊúâÂàÜÁ±ªÂàÜÁªÑÂ≠òÂú®ÔºàÊáíÂàõÂª∫Ôºâ
        this.ensureGroupsForTab(v);
        this.$nextTick(function () {
          return _this2._calcContainerAndListHeights();
        });
      }
    },
    batchQuantity: function batchQuantity() {
      if (this.selectedBom) this.generateIssuePreview();
    }
  },
  beforeDestroy: function beforeDestroy() {
    clearInterval(this._dragWatch);
  },
  computed: {
    categories: function categories() {
      return this.tabCategories[this.nid] || this.tabCategories[0];
    },
    flatMaterials: function flatMaterials() {
      var _this3 = this;
      if (!this.selectedCategory) return [];
      var g = this.findGroupByTabAndTitle(this.nid, this.selectedCategory.name);
      if (this.nid === 1 && g) {
        // ËΩ¶Èó¥‰ªìÊï∞Èáè = ‰∏ªÊùê‰ªìÂá∫Â∫ìÊÄªÈáè - BOMÈúÄÊ±ÇÊÄªÈáèÔºàÂÖÅËÆ∏‰∏∫Ë¥üÔºâ
        return g.materials.map(function (material) {
          return _objectSpread(_objectSpread({}, material), {}, {
            quantity: _this3.calculateWorkshopQuantity(material.code),
            originalQuantity: material.quantity
          });
        });
      }
      return g ? g.materials : [];
    },
    cartCount: function cartCount() {
      return this.cartList.length;
    },
    cartAgg: function cartAgg() {
      var map = {};
      var _iterator = _createForOfIteratorHelper(this.cartList),
        _step;
      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var it = _step.value;
          var key = it.code + '|' + it.name;
          if (!map[key]) map[key] = {
            code: it.code,
            name: it.name,
            total: 0
          };
          map[key].total += it.delta;
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
      return Object.values(map);
    },
    availableBoms: function availableBoms() {
      var _this4 = this;
      if (!this.selectedDepartment) return [];
      return this.bomList.filter(function (b) {
        return b.department === _this4.selectedDepartment.code;
      });
    },
    canConfirmIssue: function canConfirmIssue() {
      return !!(this.selectedDepartment && this.selectedBom && this.batchQuantity > 0 && this.issuePreview.length > 0);
    },
    availableBatches: function availableBatches() {
      // ËøîÂõûÊâÄÊúâÂèØÁî®ÁöÑÊâπÂè∑ÔºàBOMÊâπÂè∑Ôºâ
      var batches = [{
        id: 1,
        name: 'DWII01A',
        used: this.usedBatches.includes('DWII01A')
      }, {
        id: 2,
        name: 'DWII02A',
        used: this.usedBatches.includes('DWII02A')
      }, {
        id: 3,
        name: 'DWII03A',
        used: this.usedBatches.includes('DWII03A')
      }];
      return batches;
    },
    canConfirmOutbound: function canConfirmOutbound() {
      return !!(this.selectedBatch && this.selectedOutboundDepartment && this.outboundPreview.length > 0);
    },
    // Êô∫ËÉΩÊåâÈíÆÈÖçÁΩÆ
    smartButtonConfig: function smartButtonConfig() {
      var _this$tabCategories$;
      if (!this.selectedCategory) return {
        text: 'Êñ∞Â¢û',
        action: 'add',
        icon: '‚ûï'
      };
      // Ê†πÊçÆ‰∏çÂêåÊ†è‰ΩçÈÖçÁΩÆÊåâÈíÆ
      var categoryName = this.selectedCategory.name;
      // BOMÊ†èÊòæÁ§∫"‰∏ä‰º†"
      if (categoryName === 'BOM' || (_this$tabCategories$ = this.tabCategories[2]) !== null && _this$tabCategories$ !== void 0 && _this$tabCategories$.some(function (cat) {
        return cat && cat.name === categoryName;
      })) {
        return {
          text: '‰∏ä‰º†',
          action: 'upload',
          icon: 'üì§'
        };
      }
      // ÂÖ∂‰ªñÊ†è‰ΩçÊòæÁ§∫"Êñ∞Â¢û"
      return {
        text: 'Êñ∞Â¢û',
        action: 'add',
        icon: '‚ûï'
      };
    },
    // ÊãñÊãΩÂΩ±Â≠êÊ†∑Âºè
    ghostStyle: function ghostStyle() {
      return "left:".concat(this.dragX, "px; top:").concat(this.dragY, "px;");
    }
  },
  created: function created() {
    var cats = this.tabCategories[this.nid] || this.tabCategories[0];
    this.selectedCategory = cats[0];
    // ÂàùÂßãÂåñÊó∂Á°Æ‰øùÂΩìÂâçÊ†áÁ≠æÂàÜÁªÑÂ≠òÂú®
    this.ensureGroupsForTab(this.nid);
    this.loadCartList();
  },
  mounted: function mounted() {
    var _this5 = this;
    this.drawerWidthPx = uni.upx2px(500);
    this.drawerRightPx = -this.drawerWidthPx;

    // ÁõëÂê¨Áî®Êà∑È¶ñÊ¨°‰∫§‰∫íÔºà‰ªÖÂú®H5ÁéØÂ¢É‰∏ãÔºâ

    // Âú®Â∞èÁ®ãÂ∫èÁéØÂ¢É‰∏ãÔºåÁõ¥Êé•Ê†áËÆ∞‰∏∫Â∑≤‰∫§‰∫í

    this._userInteracted = true;

    // Ëé∑ÂèñÁ≥ªÁªü‰ø°ÊÅØÁî®‰∫éÊô∫ËÉΩÂà†Èô§Âå∫ÂíåËÆ°ÁÆóÂè≥‰æßÂàóË°®È´òÂ∫¶
    uni.getSystemInfo({
      success: function success(info) {
        _this5._winH = info.windowHeight || 0;
        // H5/APP ‰∏ÄËà¨Êúâ safeAreaInsetsÔºõÊ≤°ÊúâÂàô‰∏∫ 0
        _this5._safeTop = info.safeAreaInsets && info.safeAreaInsets.top || 0;
        _this5._safeBottom = info.safeAreaInsets && info.safeAreaInsets.bottom || 0;

        // ËÆ°ÁÆóË¥≠Áâ©ËΩ¶ÂÖ•Âè£‰∏éÂºπÁ™óÁöÑÂä®ÊÄÅ bottom ÂÅèÁßª
        _this5._updateFloatingOffsets();

        // ËÆ°ÁÆóÊúÄÂ§ßÂèØÈöêËóèÈ´òÂ∫¶ÔºöÁ∫¶ 88rpxÔºà‚âà 44dpÔºâ
        _this5._headHideMaxPx = Math.max(40, uni.upx2px(88));

        // ËÆ°ÁÆó‰∏ÄÊ¨°ÂàùÂßãÊ†∑ÂºèÔºàÂèØÈÄâÔºâ
        _this5.zoneStyle = {};

        // ËÆ°ÁÆóÂÆπÂô®ÂíåÂè≥‰æßÂàóË°®È´òÂ∫¶
        _this5.$nextTick(function () {
          _this5._calcContainerAndListHeights();
        });
      }
    });

    // ÊóãËΩ¨/ÈîÆÁõòÂØºËá¥Á™óÂè£È´òÂèòÂä®Êó∂ÔºåÈáçÁÆó‰∏ÄÊ¨°

    wx.onWindowResize && wx.onWindowResize(function () {
      return _this5.$nextTick(function () {
        return _this5._calcContainerAndListHeights();
      });
    });
  },
  // È°µÈù¢ÁîüÂëΩÂë®Êúü - È°µÈù¢ÈöêËóèÊó∂ÈáçÁΩÆÊãñÊãΩÁä∂ÊÄÅ
  onHide: function onHide() {
    if (this.isDragging) {
      console.log('È°µÈù¢ÈöêËóèÔºåÈáçÁΩÆÊãñÊãΩÁä∂ÊÄÅ');
      this.resetDragState();
    }
  },
  // È°µÈù¢ÁîüÂëΩÂë®Êúü - È°µÈù¢Âç∏ËΩΩÊó∂ÈáçÁΩÆÊãñÊãΩÁä∂ÊÄÅ
  onUnload: function onUnload() {
    if (this.isDragging) {
      console.log('È°µÈù¢Âç∏ËΩΩÔºåÈáçÁΩÆÊãñÊãΩÁä∂ÊÄÅ');
      this.resetDragState();
    }
  }
}, (0, _defineProperty2.default)(_name$components$prop, "beforeDestroy", function beforeDestroy() {
  clearInterval(this._dragWatch);
}), (0, _defineProperty2.default)(_name$components$prop, "onShow", function onShow() {
  // Â¶ÇÊûúÈ°µÈù¢ÈáçÊñ∞ÊòæÁ§∫Êó∂ÂèëÁé∞ÊãñÊãΩÁä∂ÊÄÅÂºÇÂ∏∏ÔºåËøõË°åÈáçÁΩÆ
  if (this.isDragging) {
    console.log('È°µÈù¢ÊòæÁ§∫Êó∂ÂèëÁé∞ÊãñÊãΩÁä∂ÊÄÅÂºÇÂ∏∏ÔºåÈáçÁΩÆÁä∂ÊÄÅ');
    this.resetDragState();
  }
}), (0, _defineProperty2.default)(_name$components$prop, "methods", {
  // ËÆ°ÁÆóË¥≠Áâ©ËΩ¶ÂÖ•Âè£‰∏éË¥≠Áâ©ËΩ¶ÂºπÁ™óÁöÑÂ∫ïÈÉ®ÂÅèÁßªÔºåÈÅøÂÖçË¢´Â∫ïÈÉ®ÂÆâÂÖ®Âå∫ÊàñÁ≥ªÁªüÊ†èÈÅÆÊå°
  _updateFloatingOffsets: function _updateFloatingOffsets() {
    try {
      var info = uni.getSystemInfoSync && uni.getSystemInfoSync();
      var safeBottom = 0;
      if (info && info.safeAreaInsets && typeof info.safeAreaInsets.bottom === 'number') {
        safeBottom = info.safeAreaInsets.bottom;
      } else if (info && info.safeArea && info.screenHeight) {
        // ÂÖºÂÆπ‰∏çÊîØÊåÅ safeAreaInsets ÁöÑÁéØÂ¢É
        safeBottom = Math.max(0, info.screenHeight - (info.safeArea.bottom || info.windowHeight || 0));
      } else {
        safeBottom = this._safeBottom || 0;
      }

      // Âú® H5/APP ‰∏ãÊää rpx ËΩ¨‰∏∫ pxÔºåÂÜçÂä†‰∏äÂÆâÂÖ®Âå∫
      var fabExtra = uni.upx2px(180);
      var panelExtra = uni.upx2px(120);
      this.fabBottomPx = safeBottom + fabExtra;
      this.cartBottomPx = safeBottom + panelExtra;
    } catch (e) {
      // ÂÖúÂ∫ïÔºöÊó†Á≥ªÁªü‰ø°ÊÅØÊó∂‰ΩøÁî®Âõ∫ÂÆöÂÅèÁßª
      this.fabBottomPx = uni.upx2px(180);
      this.cartBottomPx = uni.upx2px(120);
    }
  },
  // ÈîÆÁõòÈÅøËÆ©ÔºöÂΩìÁ™óÂè£È´òÂ∫¶ÊòæËëóÁº©Â∞èÔºàÊé®Êñ≠ÈîÆÁõòÂºπÂá∫ÔºâÔºåÂ∞ÜÊ®°ÊÄÅÊï¥‰Ωì‰∏äÁßª
  _updateModalShift: function _updateModalShift() {
    try {
      var info = uni.getSystemInfoSync && uni.getSystemInfoSync();
      var baseH = this._winH || info && info.windowHeight || 0;
      var curH = info && info.windowHeight || baseH;
      var shrink = Math.max(0, baseH - curH);
      // ËßÜÁ™óÈ´òÂ∫¶ÂáèÂ∞ëË∂ÖËøá 80px ËßÜ‰∏∫ÈîÆÁõòÂºπÂá∫ÔºåÊåâÁº©ÂáèÊØî‰æã‰∏äÁßª‰ΩÜËÆæÁΩÆÊúÄÂ§ßÂÄº
      var extra = shrink > 80 ? Math.min(uni.upx2px(200), shrink - 40) : 0;
      this.modalShiftPx = extra;
    } catch (e) {
      this.modalShiftPx = 0;
    }
  },
  // Êåâ headHidePx ÊääÂÆπÂô®È°∂Âà∞Êõ¥‰∏äÈù¢ÔºàÂÆûÁé∞È°∂Âá∫Â§¥ÈÉ®ÁöÑÈîôËßâÔºâ
  _applyTopOffset: function _applyTopOffset(windowTop, winH) {
    var top = Math.max(0, Math.floor(windowTop || 0));
    var h = Math.max(0, Math.floor((winH || 0) - top));
    this.containerTopPx = top;
    this.containerHeightPx = h;
  },
  // Ê†πÊçÆÊªöÂä®ËøõÂ∫¶Êõ¥Êñ∞Â§¥ÈÉ®ÈöêËóè‰ΩçÁßªÔºåÂπ∂ÈáçÊñ∞Â∫îÁî® top/height
  _handleHeadHideProgress: function _handleHeadHideProgress(st) {
    var prev = this._prevScrollTop || 0;
    var dy = st - prev;
    var abs = Math.abs(dy);

    // ËøáÊª§ÊûÅÂ∞èÊäñÂä®ÔºåÂáèËΩª‰∏ç‰∏ùÊªëÊÑüËßâ
    if (abs < 0.5) {
      this._prevScrollTop = st;
      return;
    }
    if (dy > 0) {
      // ‰∏äÊªëÔºöÈöêËóèÂ§¥ÈÉ®ÔºàÂ¢ûÂä† headHidePxÔºåÂä†Â∞ëËÆ∏ÈòªÂ∞ºÔºâ
      this.headHidePx = Math.min(this._headHideMaxPx, this.headHidePx + dy * 0.92);
    } else if (dy < 0) {
      // ‰∏ãÊãâÔºöÈú≤Âá∫Â§¥ÈÉ®ÔºàÂáèÂ∞ë headHidePxÔºâÔºåÂú®È°∂ÈÉ®Âø´ÈÄüÂ§ç‰ΩçÁ®çÂä†Âº∫
      var k = st <= 4 ? 1.3 : 1.0;
      this.headHidePx = Math.max(0, this.headHidePx + dy * k);
    }

    // È°∂ÈÉ®ËΩªÂæÆÂõûÂºπÔºàÂπÖÂ∫¶Â∞è‰∏Ä‰∫õÔºâ
    if (st <= 2) this.headHidePx = Math.max(0, this.headHidePx - 2);

    // ËæπÁïåÂ§πÂèñ
    if (this.headHidePx > this._headHideMaxPx) this.headHidePx = this._headHideMaxPx;
    if (this.headHidePx < 0) this.headHidePx = 0;
    this._prevScrollTop = st;
    // Ê≥®ÔºöÂÆπÂô®ÁöÑ top/height ‰ªÖÁî±Á™óÂè£ÂèÇÊï∞ÂÜ≥ÂÆöÔºõÁúüÊ≠£ÁöÑ‚ÄúÈ°∂Âá∫Â§¥ÈÉ®‚ÄùÁî± transform ÂÆåÊàê
  },
  // ËÆ°ÁÆóÂÆπÂô®ÂíåÂè≥‰æßÂàóË°®ÁöÑÈ´òÂ∫¶
  _calcContainerAndListHeights: function _calcContainerAndListHeights() {
    var _this6 = this;
    // ÊØèÊ¨°Áé∞Âèñ‰∏ÄÊ¨° windowHeightÔºåÈÅøÂÖçÊóßÁºìÂ≠ò
    var winH = 0,
      windowTop = 0;
    try {
      var info = uni.getWindowInfo && uni.getWindowInfo();
      if (info) {
        winH = info.windowHeight || 0;
        windowTop = info.windowTop || 0; // ‚Üê ÂÖ≥ÈîÆÔºöÈ°∂ÈÉ®Á≥ªÁªüÂç†‰Ωç
      }
    } catch (e) {}
    if (!winH) {
      try {
        winH = uni.getSystemInfoSync().windowHeight || 0;
      } catch (e) {}
    }
    var q = uni.createSelectorQuery().in(this);
    q.select('.container').boundingClientRect().select('.right__title').boundingClientRect().exec(function (res) {
      var _titleRect$height;
      var contRect = res && res[0];
      var titleRect = res && res[1];

      // ËÆæÁΩÆÂÆπÂô® top/height Âü∫Á∫øÔºà‰∏é headHidePx Êó†ÂÖ≥ÔºâÔºõÈ°∂Âá∫ÊïàÊûú‰∫§Áªô transform
      _this6._applyTopOffset(windowTop, winH);
      _this6.containerFixed = true;
      var titleH = Math.max(48, (_titleRect$height = titleRect === null || titleRect === void 0 ? void 0 : titleRect.height) !== null && _titleRect$height !== void 0 ? _titleRect$height : 56);
      // 16rpx * 2 ‚Üí px
      var rightPadV = Math.max(0, uni.upx2px(16) * 2);
      var listH = Math.max(0, _this6.containerHeightPx - titleH - rightPadV);
      // ÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÁªô‰∏™ÂÖúÂ∫ïÊúÄÂ∞èÂÄºÔºåÈÅøÂÖç scroll-view È´òÂ∫¶‰∏∫ 0
      if (listH < 80) listH = 80;
      _this6.rightListHeightPx = Math.floor(listH);
      console.log('È´òÂ∫¶Ë∞ÉËØï:', {
        winH: winH,
        windowTop: windowTop,
        headHidePx: _this6.headHidePx,
        containerTopPx: _this6.containerTopPx,
        containerHeightPx: _this6.containerHeightPx,
        contTop: contRect === null || contRect === void 0 ? void 0 : contRect.top,
        contH: _this6.containerHeightPx,
        titleH: titleH,
        rightPadV: rightPadV,
        listH: _this6.rightListHeightPx
      });
    });
  },
  // ËÆ°ÁÆóÂè≥‰æßscroll-viewÁöÑÂõ∫ÂÆöÈ´òÂ∫¶ÔºàÂÖºÂÆπÊóßÊñπÊ≥ïÔºâ
  _calcRightListHeight: function _calcRightListHeight() {
    this._calcContainerAndListHeights();
  },
  /* -------- ÂÖ®Â±ÄËß¶Êë∏‰∫ã‰ª∂ËΩ¨ÂèëÊñπÊ≥ï -------- */onGlobalTouchMove: function onGlobalTouchMove(e) {
    // Ê≠£Âú®ÊãñÊãΩÊâçÈòªÊ≠¢ÔºõÂê¶ÂàôÂà´Êã¶Ôºå‰øùËØÅ scroll-view Ê≠£Â∏∏ÊªöÂä®
    if (this.isDragging) {
      e.stopPropagation();
      e.preventDefault();
      this.onDragMove(e);
      return;
    }
    // Ê≤°Âú®ÊãñÊãΩÔºöÊ£ÄÊü•ÊòØÂê¶ÊòØËæπÁºòÊªëÂä®
    var shouldPreventDefault = this.onEdgeTouchMove(e);
    if (shouldPreventDefault) {
      e.stopPropagation();
      e.preventDefault();
    }
  },
  onGlobalTouchEnd: function onGlobalTouchEnd(e) {
    if (this.isDragging) {
      e.stopPropagation();
      e.preventDefault();
      this.onDragEnd(e);
      return;
    }
    // Âè™ÊúâÂú®ËæπÁºòÊªëÂä®Ë∑üË∏™Áä∂ÊÄÅ‰∏ãÊâçÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫
    if (this.swipe.tracking) {
      e.stopPropagation();
      e.preventDefault();
    }
    this.onEdgeTouchEnd(e);
  },
  onGlobalTouchCancel: function onGlobalTouchCancel(e) {
    if (this.isDragging) {
      e.stopPropagation();
      e.preventDefault();
      this.onDragCancel();
      return;
    }
    // Âè™ÊúâÂú®ËæπÁºòÊªëÂä®Ë∑üË∏™Áä∂ÊÄÅ‰∏ãÊâçÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫
    if (this.swipe.tracking) {
      e.stopPropagation();
      e.preventDefault();
    }
    this.cancelDrawerDrag();
  },
  /* -------- ÂÆâÂÖ®Â∑•ÂÖ∑ÊñπÊ≥ï -------- */
  // ÂÆâÂÖ®Ëé∑ÂèñÊï∞ÁªÑ
  getListSafe: function getListSafe(list) {
    return Array.isArray(list) ? list : [];
  },
  // ÂÆâÂÖ®Ëé∑ÂèñID
  getIdSafe: function getIdSafe(obj) {
    return obj && (0, _typeof2.default)(obj) === 'object' ? obj.id : undefined;
  },
  // ‚úÖ ËÆ∞ÂΩïÊòØÂê¶ÂèëÁîüËøáÁúüÂÆûÁî®Êà∑ÊâãÂäøÔºàÁî®‰∫éÊüê‰∫õÁéØÂ¢ÉÁöÑÈ¢ùÂ§ñ‰øùÈô©Ôºâ
  ensureUserGestureFlag: function ensureUserGestureFlag() {
    if (!this._userInteracted) this._userInteracted = true;
  },
  // ‚úÖ Âè™Âú®„ÄåÂΩìÂâçË∞ÉÁî®Ê†àÁ°ÆÂÆö‰∏∫Áî®Êà∑ÊâãÂäø„ÄçÊó∂Ë∞ÉÁî®ÂÆÉÔºà‰∏çË¶ÅÂåÖ setTimeout/rAFÔºâ
  vibrateNow: function vibrateNow() {
    var ms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 12;
    try {} catch (e) {/* no-op */}
  },
  /* -------- Âè≥‰æßÊäΩÂ±âÔºàÂè≥ÁºòÂ∑¶ÊªëËß¶ÂèëÔºâ -------- */onEdgeTouchStart: function onEdgeTouchStart(e) {
    var _this7 = this;
    this._axisStart(e); // Êñ∞Â¢ûÔºöÂêØÂä®Ê®™ÂêëÊªëÂä®ËØÜÂà´ÔºàÊéíÈô§Âè≥Áºò30pxÔºâ
    var t = e.touches && e.touches[0];
    if (!t) return;
    var x = t.clientX,
      y = t.clientY;
    var screenWidth = 0;
    try {
      screenWidth = uni.getWindowInfo().windowWidth;
    } catch (e) {}
    if (!screenWidth) {
      uni.getSystemInfo({
        success: function success(info) {
          screenWidth = info.windowWidth || 375;
          if (x >= screenWidth - 30 && !_this7.drawerOpen) {
            _this7.swipe = {
              tracking: true,
              startX: x,
              startY: y,
              lastX: x
            };
            _this7.drawerDragging = true;
          }
        }
      });
      return;
    }
    // Êîπ‰∏∫Âè≥‰æßËæπÁºòËß¶ÂèëÔºàË∑ùÁ¶ªÂè≥ËæπÁºò30pxÂÜÖÔºâ
    if (x >= screenWidth - 30 && !this.drawerOpen) {
      this.swipe = {
        tracking: true,
        startX: x,
        startY: y,
        lastX: x
      };
      this.drawerDragging = true;
    }
  },
  onEdgeTouchMove: function onEdgeTouchMove(e) {
    if (this.isDragging) return false; // ÊãñÊãΩ‰ºòÂÖàÔºå‰∏çÂ§ÑÁêÜËæπÁºòÊªëÂä®
    // ÂÖàÂ∞ùËØïËØÜÂà´"Ê®™ÂêëÊç¢Ê†è"
    var consumed = this._axisMove(e);
    if (consumed) {
      return true;
    }
    // ÈòªÊ≠¢ÈªòËÆ§ÊªöÂä®ÔºåÈÅøÂÖçÊäñÂä®
    if (!this.swipe.tracking) return false; // Ê≤°ÊúâÂú®Ë∑üË∏™ÊªëÂä®Ôºå‰∏çÈúÄË¶ÅÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫

    var t = e.touches && e.touches[0];
    if (!t) return false;
    var x = t.clientX,
      y = t.clientY;
    var dy = Math.abs(y - this.swipe.startY);
    if (dy > 30 && !this.drawerOpen) {
      this.cancelDrawerDrag();
      return false;
    }
    var dx = this.swipe.startX - x; // Â∑¶Êªë‰∏∫Ê≠£ÂÄº
    if (!this.drawerOpen) {
      var right = -this.drawerWidthPx + dx;
      if (right > 0) right = 0;
      if (right < -this.drawerWidthPx) right = -this.drawerWidthPx;
      this.drawerRightPx = right;
    } else {
      var _right = -dx;
      if (_right > 0) _right = 0;
      if (_right < -this.drawerWidthPx) _right = -this.drawerWidthPx;
      this.drawerRightPx = _right;
    }
    this.swipe.lastX = x;
    return true; // Ê≠£Âú®Â§ÑÁêÜËæπÁºòÊªëÂä®ÔºåÈúÄË¶ÅÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫
  },
  onEdgeTouchEnd: function onEdgeTouchEnd() {
    if (this.isDragging) return; // ÁªìÊùü‰∫§Áªô onGlobalTouchEnd ÈáåÁöÑÊãñÊãΩÂàÜÊîØ
    this._axisEnd(); // Êñ∞Â¢ûÔºöÊî∂Â∞æÊ®™ÊªëÊâãÂäø
    if (!this.swipe.tracking) return;
    var dx = this.swipe.startX - this.swipe.lastX; // Â∑¶Êªë‰∏∫Ê≠£ÂÄº
    var threshold = this.drawerWidthPx * 0.35;
    if (!this.drawerOpen) {
      if (dx > threshold) this.openDrawer();else this.closeDrawer();
    } else {
      if (dx > threshold) this.closeDrawer();else this.openDrawer();
    }
    this.cancelDrawerDrag();
  },
  cancelDrawerDrag: function cancelDrawerDrag() {
    this.swipe.tracking = false;
    this.drawerDragging = false;
    this.axisSwipe.tracking = false;
    this.axisSwipe.consumed = false;
  },
  /* -------- Ê®™ÂêëÊç¢Ê†èÊâãÂäøÔºöÂêØÂä®/ÁßªÂä®/ÁªìÊùü -------- */_axisStart: function _axisStart(e) {
    if (this.isDragging || this.drawerDragging) return;
    var t = this._firstTouch(e);
    // Âè≥‰æß 30px ‰øùÁïôÁªôÊäΩÂ±âÔºå‰∏çÂÅöÊç¢Ê†èÊâãÂäø
    var screenWidth = 0;
    try {
      screenWidth = uni.getWindowInfo().windowWidth;
    } catch (e) {
      screenWidth = 375;
    }
    if (t.clientX >= screenWidth - 30) return; // ‰∫§ÁªôÊäΩÂ±â

    this.axisSwipe = {
      tracking: true,
      startX: t.clientX,
      startY: t.clientY,
      lastX: t.clientX,
      consumed: false
    };
  },
  _axisMove: function _axisMove(e) {
    if (!this.axisSwipe.tracking || this.drawerDragging || this.isDragging) return false;
    var t = this._firstTouch(e);
    var dx = t.clientX - this.axisSwipe.startX;
    var dy = t.clientY - this.axisSwipe.startY;
    this.axisSwipe.lastX = t.clientX;

    // Ê∞¥Âπ≥‰∏ªÂØº‰∏î‰ΩçÁßªË∂≥Â§üÊó∂ÔºåËÆ§‰∏∫Ë¶ÅÊç¢Ê†è
    var H_THRESH = 60; // Ëß¶ÂèëÈòàÂÄº
    if (!this.axisSwipe.consumed && Math.abs(dx) > H_THRESH && Math.abs(dx) > Math.abs(dy) * 1.2) {
      // Ëß¶Âèë‰∏ÄÊ¨°Êç¢Ê†è‰∫ã‰ª∂ÔºöÂêëÁà∂ÁªÑ‰ª∂ÂèëÂá∫ prev/next
      var dir = dx > 0 ? 'prev' : 'next';
      this.$emit('swipe-tab', dir);
      this.axisSwipe.consumed = true;
      return true; // ÂëäËØâ‰∏äÂ±ÇÂèØ‰ª•ÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫ÔºàÈÅøÂÖçÈ°µÈù¢ÊäñÂä®Ôºâ
    }

    return false;
  },
  _axisEnd: function _axisEnd() {
    // Êî∂Â∞æ
    this.axisSwipe.tracking = false;
    this.axisSwipe.consumed = false;
  } /* e */,
  openDrawer: function openDrawer() {
    this.drawerOpen = true;
    this.drawerRightPx = 0;
  },
  closeDrawer: function closeDrawer() {
    this.drawerOpen = false;
    this.drawerRightPx = -this.drawerWidthPx;
  },
  /* -------- ÂàóË°®‰∏éÂàÜÁ±ª -------- */onLeftScroll: function onLeftScroll(e) {
    var st = e && e.detail && typeof e.detail.scrollTop === 'number' ? e.detail.scrollTop : 0;
    // È°∂ÈÉ®Âà§Êñ≠Ôºà‰øùÁïôÂéüÊúâ‰∫ã‰ª∂Ôºâ
    this.$emit('left-top', st <= 2);
    // Êñ∞Â¢ûÔºöÊªöÂä®ËøõÂ∫¶Ôºå‰æõÈ¶ñÈ°µÊåâËøõÂ∫¶ÈöêËóèÂ§¥ÈÉ®
    this.$emit('scroll-y', st);
    // È©±Âä®Â§¥ÈÉ®ÈöêËóè‰ΩçÁßª
    this._handleHeadHideProgress(st);
  },
  selectCategory: function selectCategory(c) {
    this.selectedCategory = c;
    // ÈÄâÊã©ÂàÜÁ±ªÊó∂Á°Æ‰øùÂàÜÁªÑÂ≠òÂú®
    this.ensureGroup(this.nid, c && c.name ? c.name : '');
    // ÂàáÊç¢ÂàÜÁ±ªÊó∂Â§ç‰ΩçÂ§¥ÈÉ®ÈöêËóèÁä∂ÊÄÅÔºå‰ΩìÈ™åÊõ¥‰∏ùÊªë
    this.headHidePx = 0;
    this._prevScrollTop = 0;
    // ÈáçÊñ∞Â∫îÁî®ÂÆπÂô®‰ΩçÁΩÆ‰∏éÈ´òÂ∫¶
    try {
      var info = uni.getWindowInfo && uni.getWindowInfo();
      var winH = info && info.windowHeight || uni.getSystemInfoSync().windowHeight || 0;
      var windowTop = info && info.windowTop || 0;
      this._applyTopOffset(windowTop, winH);
    } catch (e) {}
  },
  /* -------- ËΩ¶Èó¥‰ªìÊï∞ÈáèËÆ°ÁÆóÔºö‰∏ªÊùê‰ªìÂá∫Â∫ì - BOMÈúÄÊ±Ç -------- */calculateWorkshopQuantity: function calculateWorkshopQuantity(materialCode) {
    var _this8 = this;
    var outboundToProduction = this.outboundRecords.filter(function (r) {
      return r.materialCode === materialCode && r.fromWarehouse === 'main' && _this8.productionDepartments.some(function (d) {
        return d.code === r.toDepartment;
      });
    }).reduce(function (s, r) {
      return s + r.quantity;
    }, 0);
    var bomRequired = this.bomRequirements.filter(function (req) {
      return req.materialCode === materialCode;
    }).reduce(function (s, req) {
      return s + req.requiredQuantity;
    }, 0);
    return outboundToProduction - bomRequired; // ÂèØ‰∏∫Ë¥ü
  },
  getMaterialCalculationDetails: function getMaterialCalculationDetails(materialCode) {
    var _this9 = this;
    var outboundRecords = this.outboundRecords.filter(function (r) {
      return r.materialCode === materialCode && r.fromWarehouse === 'main' && _this9.productionDepartments.some(function (d) {
        return d.code === r.toDepartment;
      });
    });
    var bomRequirements = this.bomRequirements.filter(function (req) {
      return req.materialCode === materialCode;
    });
    var totalOutbound = outboundRecords.reduce(function (s, r) {
      return s + r.quantity;
    }, 0);
    var totalRequired = bomRequirements.reduce(function (s, r) {
      return s + r.requiredQuantity;
    }, 0);
    return {
      outboundRecords: outboundRecords,
      bomRequirements: bomRequirements,
      totalOutbound: totalOutbound,
      totalRequired: totalRequired,
      finalQuantity: totalOutbound - totalRequired
    };
  },
  showCalculationDetail: function showCalculationDetail(material) {
    this.selectedMaterialForCalc = material;
    this.calculationDetails = this.getMaterialCalculationDetails(material.code);
    this.showCalculationModal = true;
  },
  closeCalculationModal: function closeCalculationModal() {
    this.showCalculationModal = false;
    this.selectedMaterialForCalc = null;
    this.calculationDetails = {
      outboundRecords: [],
      bomRequirements: [],
      totalOutbound: 0,
      totalRequired: 0,
      finalQuantity: 0
    };
  },
  getDepartmentName: function getDepartmentName(code) {
    var d = this.productionDepartments.find(function (x) {
      return x.code === code;
    });
    return d ? d.name : code;
  },
  getDepartmentNameByCode: function getDepartmentNameByCode(code) {
    var d = this.productionDepartments.find(function (x) {
      return x.code === code;
    });
    return d ? d.name : code;
  },
  /* -------- ÊâπÈáèÂá∫Â∫ìÂäüËÉΩ -------- */showBatchOutboundModal: function showBatchOutboundModal() {
    this.showBatchOutboundDialog = true;
  },
  closeBatchOutboundModal: function closeBatchOutboundModal() {
    this.showBatchOutboundDialog = false;
    this.selectedBatch = null;
    this.selectedOutboundDepartment = null;
    this.outboundPreview = [];
  },
  selectOutboundDepartment: function selectOutboundDepartment(dept) {
    this.selectedOutboundDepartment = dept;
    this.outboundPreview = []; // ÈÉ®Èó®ÈÄâÊã©Âêé‰∏çËá™Âä®ÁîüÊàêÈ¢ÑËßàÔºåÁ≠âÂæÖÊâπÂè∑ÈÄâÊã©
  },
  selectBatch: function selectBatch(batch) {
    if (batch.used) return; // Â∑≤Âá∫Â∫ìÁöÑÊâπÂè∑‰∏çËÉΩÈÄâÊã©
    this.selectedBatch = batch;
    this.generateOutboundPreview();
  },
  generateOutboundPreview: function generateOutboundPreview() {
    var _this10 = this;
    if (!this.selectedBatch || !this.selectedOutboundDepartment) return;
    // Ê†πÊçÆÈÄâ‰∏≠ÁöÑÊâπÂè∑ÂíåÈÉ®Èó®ÔºåÊâæÂà∞ÂØπÂ∫îÁöÑBOMÊùêÊñô
    var bomGroup = this.groups.find(function (g) {
      return g.title === _this10.selectedBatch.name;
    });
    if (!bomGroup) return;
    // Á≠õÈÄâÂá∫Â±û‰∫éÈÄâ‰∏≠ÈÉ®Èó®ÁöÑÊùêÊñô
    var deptMaterials = bomGroup.materials.filter(function (m) {
      return m.department === _this10.selectedOutboundDepartment.code;
    });
    this.outboundPreview = deptMaterials.map(function (m) {
      // Ëé∑ÂèñËΩ¶Èó¥‰ªìÂØπÂ∫îÊùêÊñôÁöÑÊï∞Èáè
      var workshopQuantity = _this10.getWorkshopQuantity(m.code);
      return {
        materialCode: m.code,
        materialName: m.name,
        workshopQuantity: workshopQuantity,
        outboundQuantity: m.quantity // BOM‰∏≠ÂÆö‰πâÁöÑÊï∞Èáè‰Ωú‰∏∫Âá∫Â∫ìÈáè
      };
    });
  },
  getWorkshopQuantity: function getWorkshopQuantity(materialCode) {
    return this.calculateWorkshopQuantity(materialCode);
  },
  confirmBatchOutbound: function confirmBatchOutbound() {
    var _this11 = this;
    if (!this.canConfirmOutbound) return;
    // Êï∞ÊçÆÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶ÔºåÁ≠âÂæÖÁ≠æÂ≠óÁªìÁÆó
    this.outboundPreview.forEach(function (item) {
      _this11.cartList.push({
        id: Date.now() + Math.random(),
        code: item.materialCode,
        name: item.materialName,
        delta: -item.outboundQuantity,
        type: 'outbound',
        quantity: item.outboundQuantity,
        timestamp: Date.now(),
        meta: {
          batchNumber: _this11.selectedBatch.name,
          department: _this11.selectedOutboundDepartment.code,
          departmentName: _this11.selectedOutboundDepartment.name,
          operationType: 'batch_outbound'
        }
      });
    });
    // Ê†áËÆ∞ÊâπÂè∑‰∏∫Â∑≤‰ΩøÁî®
    this.usedBatches.push(this.selectedBatch.name);
    this.saveCartList();
    _util.uiUtils.showSuccess('Â∑≤Âä†ÂÖ•Âá∫Â∫ìÊ∏ÖÂçïüõí');
    this.closeBatchOutboundModal();
    this.openCart();
  },
  // ÈáçÁΩÆÊãñÊãΩÁä∂ÊÄÅÔºàÂ∑≤Ë¢´_resetDragÊõø‰ª£Ôºå‰øùÁïôÂÖºÂÆπÊÄßÔºâ
  resetDragState: function resetDragState() {
    console.log('ÈáçÁΩÆÊãñÊãΩÁä∂ÊÄÅÔºàÊóßÊñπÊ≥ïÔºâ');
    this._resetDrag();
    // È°µÈù¢ÂàáÊç¢/Â§ç‰ΩçÊó∂ÊääÂ§¥ÈÉ®ÂºπÂõû
    this.headHidePx = 0;
    this._prevScrollTop = 0;
  },
  // Âà†Èô§ÊãñÊãΩÁöÑÂàÜÁ±ª
  deleteDraggedCategory: function deleteDraggedCategory() {
    var _this12 = this;
    if (!this.dragItem) return;
    uni.showModal({
      title: 'Á°ÆËÆ§Âà†Èô§',
      content: "\u786E\u5B9A\u8981\u5220\u9664\u5206\u7C7B\"".concat(this.dragItem.name, "\"\u53CA\u5176\u6240\u6709\u6750\u6599\u5417\uFF1F"),
      success: function success(res) {
        // Èò≤Á©∫Ê£ÄÊü•ÔºöÁî®Êà∑ÂèØËÉΩÁÇπ‰∫ÜÂèñÊ∂à
        if (!res || !res.confirm) return;
        // Ê£ÄÊü•ÊãñÊãΩÈ°πÊòØÂê¶ÊúâÊïà
        if (!_this12.dragItem || _this12.getIdSafe(_this12.dragItem) == null) return;
        var categoryId = _this12.dragItem.id;
        var categoryName = _this12.dragItem.name;

        // ÂÆâÂÖ®Âà†Èô§ÂàÜÁ±ª - ‰øÆÂ§çÔºöÊìç‰ΩúÊ∫êÊï∞ÊçÆËÄåÈùûËÆ°ÁÆóÂ±ûÊÄß
        var list = _this12.tabCategories[_this12.nid] || [];
        var categoryIndex = list.findIndex(function (c) {
          return c && c.id === categoryId;
        });
        if (categoryIndex !== -1) {
          list.splice(categoryIndex, 1); // ‰øÆÂ§çÔºöÊìç‰ΩúÊ∫êÊï∞ÊçÆ
          // Âà†Èô§ÂØπÂ∫îÁöÑmaterialsÁªÑ
          var groups = _this12.getListSafe(_this12.groups);
          var groupIndex = groups.findIndex(function (g) {
            return g && g.title === categoryName;
          });
          if (groupIndex !== -1) {
            _this12.groups.splice(groupIndex, 1);
          }
          // Â¶ÇÊûúÂà†Èô§ÁöÑÊòØÂΩìÂâçÈÄâ‰∏≠ÁöÑÂàÜÁ±ªÔºåÊ∏ÖÁ©∫ÈÄâÊã©
          if (_this12.selectedCategory && _this12.selectedCategory.id === categoryId) {
            _this12.selectedCategory = null;
          }
          _util.uiUtils.showSuccess('Âà†Èô§ÊàêÂäü');
        }
      }
    });
  },
  // Âà†Èô§ÊãñÊãΩÁöÑÊùêÊñô
  deleteDraggedMaterial: function deleteDraggedMaterial() {
    var _this13 = this;
    if (!this.dragItem || !this.selectedCategory) return;
    uni.showModal({
      title: 'Á°ÆËÆ§Âà†Èô§',
      content: "\u786E\u5B9A\u8981\u5220\u9664\u6750\u6599\"".concat(this.dragItem.name || this.dragItem.code, "\"\u5417\uFF1F"),
      success: function success(res) {
        // Èò≤Á©∫Ê£ÄÊü•ÔºöÁî®Êà∑ÂèØËÉΩÁÇπ‰∫ÜÂèñÊ∂à
        if (!res || !res.confirm) return;

        // Ê£ÄÊü•ÊãñÊãΩÈ°πÂíåÈÄâ‰∏≠ÂàÜÁ±ªÊòØÂê¶ÊúâÊïà
        if (!_this13.dragItem || _this13.getIdSafe(_this13.dragItem) == null) return;
        if (!_this13.selectedCategory || !_this13.selectedCategory.name) return;
        var materialId = _this13.dragItem.id;
        var categoryName = _this13.selectedCategory.name;

        // ÂÆâÂÖ®Êü•ÊâæÂπ∂Âà†Èô§ÊùêÊñô
        var groups = _this13.getListSafe(_this13.groups);
        var group = groups.find(function (g) {
          return g && g.title === categoryName;
        });
        if (!group) return;
        var materials = _this13.getListSafe(group.materials);
        var materialIndex = materials.findIndex(function (m) {
          return m && m.id === materialId;
        });
        if (materialIndex !== -1) {
          group.materials.splice(materialIndex, 1);
          _util.uiUtils.showSuccess('Âà†Èô§ÊàêÂäü');
        }
      }
    });
  },
  // Âà†Èô§Âä®‰ΩúÔºàÂ§öÈÄâÔºâ
  deleteSelectedCategories: function deleteSelectedCategories() {
    var _this14 = this;
    var selectedList = this.getListSafe(this.selectedCategories);
    if (selectedList.length === 0) return _util.uiUtils.showToast('ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÂà†Èô§ÁöÑÂàÜÁ±ª');
    uni.showModal({
      title: 'Á°ÆËÆ§Âà†Èô§',
      content: "\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684 ".concat(selectedList.length, " \u4E2A\u5927\u7C7B\u53CA\u5176\u6240\u6709\u6750\u6599\u5417\uFF1F"),
      success: function success(res) {
        if (!res || !res.confirm) return;
        var categories = _this14.getListSafe(_this14.categories);
        var groups = _this14.getListSafe(_this14.groups);
        selectedList.forEach(function (categoryId) {
          if (categoryId == null) return;
          var category = categories.find(function (c) {
            return c && c.id === categoryId;
          });
          if (!category) return;
          // Âà†Èô§ÂØπÂ∫îÁöÑÁªÑ
          var groupIndex = groups.findIndex(function (g) {
            return g && g.title === category.name;
          });
          if (groupIndex !== -1) {
            _this14.groups.splice(groupIndex, 1);
          }
          // Âà†Èô§Ê†áÁ≠æÈ°µ‰∏≠ÁöÑÂàÜÁ±ª
          var tabCats = _this14.getListSafe(_this14.tabCategories[_this14.nid] || _this14.tabCategories[0]);
          var categoryIndex = tabCats.findIndex(function (c) {
            return c && c.id === categoryId;
          });
          if (categoryIndex !== -1) {
            tabCats.splice(categoryIndex, 1);
          }
        });
        _this14.selectedCategories = [];
        // ÈáçÊñ∞ÈÄâÊã©Á¨¨‰∏Ä‰∏™ÂàÜÁ±ª
        var remainingCats = _this14.getListSafe(_this14.tabCategories[_this14.nid] || _this14.tabCategories[0]);
        _this14.selectedCategory = remainingCats[0] || null;
        _util.uiUtils.showSuccess('Âà†Èô§ÊàêÂäü');
      }
    });
  },
  deleteSelectedMaterials: function deleteSelectedMaterials() {
    var _this15 = this;
    var selectedList = this.getListSafe(this.selectedMaterials);
    if (selectedList.length === 0) return _util.uiUtils.showToast('ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÂà†Èô§ÁöÑÊùêÊñô');
    uni.showModal({
      title: 'Á°ÆËÆ§Âà†Èô§',
      content: "\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684 ".concat(selectedList.length, " \u4E2A\u6750\u6599\u5417\uFF1F"),
      success: function success(res) {
        if (!res || !res.confirm) return;
        var groups = _this15.getListSafe(_this15.groups);
        selectedList.forEach(function (materialId) {
          if (materialId == null) return;
          groups.forEach(function (group) {
            if (!group || !group.materials) return;
            var materials = _this15.getListSafe(group.materials);
            var materialIndex = materials.findIndex(function (m) {
              return m && m.id === materialId;
            });
            if (materialIndex !== -1) {
              group.materials.splice(materialIndex, 1);
            }
          });
        });
        _this15.selectedMaterials = [];
        _util.uiUtils.showSuccess('Âà†Èô§ÊàêÂäü');
      }
    });
  },
  /* -------- ÂÖ•/Âá∫Â∫ì -> Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶ -------- */openQty: function openQty(type, m) {
    this.opType = type;
    this.opMat = m;
    this.qtyStr = '';
    this.qtyDialog = true;
  },
  closeQty: function closeQty() {
    this.qtyDialog = false;
    this.qtyStr = '';
  },
  confirmQty: function confirmQty(data) {
    var q = Number(data.quantity);
    if (!q || q <= 0) return _util.uiUtils.showToast('ËØ∑ËæìÂÖ•ÊúâÊïàÊï∞Èáè');
    var delta = this.opType === 'in' ? q : -q;
    this.cartList.push({
      id: Date.now(),
      code: this.opMat.code,
      name: this.opMat.name || this.opMat.code,
      delta: delta,
      type: this.opType === 'in' ? 'inbound' : 'outbound',
      quantity: q,
      timestamp: Date.now(),
      meta: {
        outboundType: this.outboundType
      }
    });
    this.saveCartList();
    this.qtyDialog = false;
    this.qtyStr = '';
    _util.uiUtils.showToast('Â∑≤Âä†ÂÖ•Ê∏ÖÂçï');
  },
  openCart: function openCart() {
    this._updateFloatingOffsets();
    this.cartOpen = true;
  },
  closeCart: function closeCart() {
    this.cartOpen = false;
  },
  removeCartItem: function removeCartItem(id) {
    this.cartList = this.cartList.filter(function (x) {
      return x.id !== id;
    });
    this.saveCartList();
    if (!this.cartList.length) this.cartOpen = false;
  },
  clearCart: function clearCart() {
    this.cartList = [];
    this.saveCartList();
    this.cartOpen = false;
  },
  checkout: function checkout() {
    if (!this.cartList.length) return _util.uiUtils.showToast('Ê∏ÖÂçï‰∏∫Á©∫');
    // ËøôÈáå‰ªÖÊºîÁ§∫ÔºöÊääË¥≠Áâ©ËΩ¶Â∏¶Âà∞ÁªìÁÆóÈ°µ
    var cartData = this.cartList.map(function (it) {
      return {
        id: it.id,
        materialCode: it.code,
        materialName: it.name,
        type: it.type,
        quantity: it.quantity,
        timestamp: it.timestamp,
        meta: it.meta
      };
    });
    uni.setStorageSync('cartList', cartData);
    this.cartOpen = false;
    uni.navigateTo({
      url: '/pages/checkout/checkout'
    });
  },
  editMaterial: function editMaterial(m) {
    _util.uiUtils.showToast('ÁºñËæëÊùêÊñô: ' + m.code);
  },
  deleteMaterial: function deleteMaterial(m) {
    var _this16 = this;
    if (!m || this.getIdSafe(m) == null) {
      _util.uiUtils.showToast('ÊùêÊñô‰ø°ÊÅØÊó†Êïà');
      return;
    }
    var materialId = m.id;
    var materialName = m.name || m.code || 'Êú™Áü•ÊùêÊñô';
    uni.showModal({
      title: 'Á°ÆËÆ§Âà†Èô§',
      content: "\u786E\u5B9A\u8981\u5220\u9664\u6750\u6599\"".concat(materialName, "\"\u5417\uFF1F"),
      success: function success(res) {
        if (!res || !res.confirm) return;
        var groups = _this16.getListSafe(_this16.groups);
        var deleted = false;
        var _iterator2 = _createForOfIteratorHelper(groups),
          _step2;
        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var group = _step2.value;
            if (!group || !group.materials) continue;
            var materials = _this16.getListSafe(group.materials);
            var index = materials.findIndex(function (material) {
              return material && material.id === materialId;
            });
            if (index !== -1) {
              group.materials.splice(index, 1);
              _util.uiUtils.showSuccess('ÊùêÊñôÂà†Èô§ÊàêÂäü');
              deleted = true;
              break;
            }
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
        if (!deleted) _util.uiUtils.showToast('Êú™ÊâæÂà∞Ë¶ÅÂà†Èô§ÁöÑÊùêÊñô');
      }
    });
  },
  loadCartList: function loadCartList() {
    this.cartList = uni.getStorageSync('cartList') || [];
  },
  saveCartList: function saveCartList() {
    uni.setStorageSync('cartList', this.cartList);
  },
  /* -------- Êñ∞Â¢ûÂàÜÁ±ª/ÊùêÊñô -------- */handleAddMaterial: function handleAddMaterial() {
    this._updateModalShift();
    this.showAddMaterialModal = true;
  },
  showAddCategoryDialog: function showAddCategoryDialog() {
    this._updateModalShift();
    this.showAddCategoryModal = true;
    this.newCategoryName = '';
  },
  showAddMaterialDialog: function showAddMaterialDialog() {
    this._updateModalShift();
    this.showAddMaterialModal = true;
    this.resetNewMaterial();
  },
  closeAddCategoryModal: function closeAddCategoryModal() {
    this.showAddCategoryModal = false;
    this.newCategoryName = '';
  },
  confirmAddCategory: function confirmAddCategory() {
    if (!this.newCategoryName.trim()) return _util.uiUtils.showToast('ËØ∑ËæìÂÖ•ÂêçÁß∞');
    if (!this.tabCategories[this.nid]) this.tabCategories[this.nid] = [];
    var list = this.tabCategories[this.nid];
    var maxId = Math.max.apply(Math, (0, _toConsumableArray2.default)(list.map(function (c) {
      return c.id;
    })).concat([0]));
    var nc = {
      id: maxId + 1,
      name: this.newCategoryName.trim()
    };
    this.tabCategories[this.nid].push(nc);
    this.groups.push({
      scope: this.nid,
      title: nc.name,
      materials: []
    });
    _util.uiUtils.showSuccess('Ê∑ªÂä†ÊàêÂäü');
    this.closeAddCategoryModal();
    this.selectedCategory = nc;
  },
  closeAddMaterialModal: function closeAddMaterialModal() {
    this.showAddMaterialModal = false;
    this.resetNewMaterial();
  },
  resetNewMaterial: function resetNewMaterial() {
    this.newMaterial = {
      code: '',
      name: '',
      quantity: 0,
      batch: '',
      spec: ''
    };
  },
  confirmAddMaterial: function confirmAddMaterial() {
    var _this17 = this;
    if (!this.newMaterial.code.trim()) return _util.uiUtils.showToast('ËØ∑Â°´ÂÜôÊùêÊñôÁºñÁ†Å');
    var exist = this.groups.find(function (g) {
      return g.materials.some(function (m) {
        return m.code === _this17.newMaterial.code.trim();
      });
    });
    if (exist) return _util.uiUtils.showToast('ÊùêÊñôÁºñÁ†ÅÂ∑≤Â≠òÂú®');

    // Ëã•ÂΩìÂâçÂàÜÁ±ªÂØπÂ∫îÂàÜÁªÑ‰∏çÂ≠òÂú®ÂàôÊáíÂàõÂª∫
    this.ensureGroup(this.nid, this.selectedCategory ? this.selectedCategory.name : '');
    var group = this.findGroupByTabAndTitle(this.nid, this.selectedCategory ? this.selectedCategory.name : '');
    if (group) {
      var all = this.groups.flatMap(function (g) {
        return g.materials;
      });
      var maxId = Math.max.apply(null, all.map(function (m) {
        return m.id;
      }).concat([0]));
      group.materials.push({
        id: maxId + 1,
        code: this.newMaterial.code.trim(),
        name: this.newMaterial.name.trim() || this.newMaterial.code.trim(),
        quantity: parseInt(this.newMaterial.quantity) || 0,
        batch: this.newMaterial.batch.trim() || '-',
        spec: this.newMaterial.spec.trim() || '-'
      });
      _util.uiUtils.showSuccess('ÊùêÊñôÊ∑ªÂä†ÊàêÂäü');
      this.closeAddMaterialModal();
    }
  },
  // Á°Æ‰øùÊåáÂÆö scope+title ÁöÑÂàÜÁªÑÂ≠òÂú®ÔºàÊáíÂàõÂª∫Ôºâ
  ensureGroup: function ensureGroup(scope, title) {
    if (!title) return;
    var groups = Array.isArray(this.groups) ? this.groups : [];
    var exists = groups.some(function (g) {
      return g && g.scope === scope && g.title === title;
    });
    if (!exists) {
      this.groups.push({
        scope: scope,
        title: title,
        materials: []
      });
    }
  },
  // Á°Æ‰øùÊüê‰∏™Ê†áÁ≠æÈ°µÁöÑÊâÄÊúâÂàÜÁ±ªÂàÜÁªÑÂ≠òÂú®ÔºàÊáíÂàõÂª∫Ôºâ
  ensureGroupsForTab: function ensureGroupsForTab(scope) {
    var _this18 = this;
    var cats = this.tabCategories[scope] || [];
    cats.forEach(function (cat) {
      if (cat && cat.name) _this18.ensureGroup(scope, cat.name);
    });
  },
  /* -------- Êô∫ËÉΩÊåâÈíÆÂ§ÑÁêÜ -------- */handleSmartAction: function handleSmartAction() {
    var config = this.smartButtonConfig;
    if (config.action === 'upload') this.handleBomUpload();else this.showAddMaterialDialog();
  },
  // BOMÊ†èÁöÑ‰∏ä‰º†ÂäüËÉΩ
  handleBomUpload: function handleBomUpload() {
    var _this19 = this;
    // Ê£ÄÊü•Âπ≥Âè∞ÔºåH5ÁéØÂ¢É‰ΩøÁî®‰∏çÂêåÁöÑ‰∏ä‰º†ÊñπÂºè

    uni.chooseMessageFile({
      count: 1,
      type: 'file',
      extension: ['xls', 'xlsx', 'csv'],
      success: function success(res) {
        var file = res.tempFiles && res.tempFiles[0] || null;
        if (file) {
          _this19.uploadBomFile(file);
        }
      },
      fail: function fail() {
        _util.uiUtils.showToast('Êú™ÈÄâÊã©Êñá‰ª∂');
      }
    });
  },
  // ‰∏ä‰º†BOMÊñá‰ª∂Âà∞ÊúçÂä°Âô®
  uploadBomFile: function uploadBomFile(file) {
    var _this20 = this;
    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {
      var uploadResult;
      return _regenerator.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              uni.showLoading({
                title: '‰∏ä‰º†‰∏≠...'
              });
              _context.prev = 1;
              _context.next = 4;
              return new Promise(function (resolve, reject) {
                uni.uploadFile({
                  url: 'https://your-api.example.com/bom/upload',
                  // ÊõøÊç¢‰∏∫ÂÆûÈôÖÁöÑ‰∏ä‰º†Âú∞ÂùÄ
                  filePath: file.path || file.tempFilePath,
                  name: 'file',
                  formData: {
                    source: 'bom-import',
                    category: _this20.selectedCategory ? _this20.selectedCategory.name : ''
                  },
                  success: resolve,
                  fail: reject
                });
              });
            case 4:
              uploadResult = _context.sent;
              uni.hideLoading();
              _util.uiUtils.showSuccess('BOMÊñá‰ª∂‰∏ä‰º†ÊàêÂäü');
              _this20.refreshCurrentCategory();
              _context.next = 15;
              break;
            case 10:
              _context.prev = 10;
              _context.t0 = _context["catch"](1);
              uni.hideLoading();
              console.error('‰∏ä‰º†Â§±Ë¥•:', _context.t0);
              _util.uiUtils.showToast('‰∏ä‰º†Â§±Ë¥•ÔºåËØ∑ÈáçËØï');
            case 15:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[1, 10]]);
    }))();
  },
  // Âà∑Êñ∞ÂΩìÂâçÂàÜÁ±ªÁöÑÊï∞ÊçÆ - Â∑≤ÂêàÂπ∂ÈáçÁÆóÈ´òÂ∫¶ÈÄªËæë
  refreshCurrentCategory: function refreshCurrentCategory() {
    var _this21 = this;
    _util.uiUtils.showToast('Êï∞ÊçÆÂ∑≤Âà∑Êñ∞');
    this.$nextTick(function () {
      _this21._calcContainerAndListHeights();
    });
  },
  // ÊâπÈáè‰∏ãËΩΩÂäüËÉΩ
  handleBatchDownload: function handleBatchDownload() {
    var downloadType = '';
    if (this.nid === 0) downloadType = '‰∏ªÊùê‰ªì';else if (this.nid === 1) downloadType = 'ËΩ¶Èó¥‰ªì';else if (this.nid === 3) downloadType = 'PACK';
    uni.showLoading({
      title: 'ÂáÜÂ§á‰∏ãËΩΩ...'
    });
    // ÂáÜÂ§á‰∏ãËΩΩÊï∞ÊçÆ
    var downloadData = this.prepareDownloadData();
    setTimeout(function () {
      uni.hideLoading();
      uni.showModal({
        title: '‰∏ãËΩΩÊàêÂäü',
        content: "\u5DF2\u6210\u529F\u4E0B\u8F7D".concat(downloadType, "\u6570\u636E\uFF0C\u5171").concat(downloadData.length, "\u6761\u8BB0\u5F55"),
        showCancel: false
      });
    }, 1000);
  },
  // ÂáÜÂ§á‰∏ãËΩΩÊï∞ÊçÆ
  prepareDownloadData: function prepareDownloadData() {
    var _this22 = this;
    var data = [];
    if (this.selectedCategory) {
      var g = this.findGroupByTabAndTitle(this.nid, this.selectedCategory.name);
      if (g && g.materials) {
        data = g.materials.map(function (m) {
          return {
            code: m.code,
            name: m.name || '',
            quantity: m.quantity || 0,
            batch: m.batch || '-',
            spec: m.spec || '-',
            department: _this22.nid === 2 ? _this22.getDepartmentNameByCode(m.department) : ''
          };
        });
      }
    } else {
      var tabGroups = this.groups.filter(function (g, i) {
        var cats = _this22.tabCategories[_this22.nid] || [];
        return cats.some(function (c) {
          return c.name === g.title;
        });
      });
      data = tabGroups.flatMap(function (g) {
        return g.materials || [];
      }).map(function (m) {
        return {
          code: m.code,
          name: m.name || '',
          quantity: m.quantity || 0,
          batch: m.batch || '-',
          spec: m.spec || '-',
          department: _this22.nid === 2 ? _this22.getDepartmentNameByCode(m.department) : ''
        };
      });
    }
    return data;
  },
  /* -------- ÊåâBOMÊâπÈáèÂèëÊñô -> Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶ -------- */showBatchIssueModal: function showBatchIssueModal() {
    this.showBatchIssueDialog = true;
  },
  closeBatchIssueModal: function closeBatchIssueModal() {
    this.showBatchIssueDialog = false;
    this.selectedDepartment = null;
    this.selectedBom = null;
    this.batchQuantity = 1;
    this.issuePreview = [];
    this.outboundType = '';
  },
  selectDepartment: function selectDepartment(d) {
    this.selectedDepartment = d;
    this.selectedBom = null;
    this.issuePreview = [];
  },
  selectBom: function selectBom(b) {
    this.selectedBom = b;
    this.generateIssuePreview();
  },
  findGroupByTabAndTitle: function findGroupByTabAndTitle(scope, title) {
    return this.groups.find(function (g) {
      return g && g.scope === scope && g.title === title;
    }) || null;
  },
  findMainWarehouseMaterialByCode: function findMainWarehouseMaterialByCode(code) {
    var mainCatNames = (this.tabCategories[0] || []).map(function (c) {
      return c.name;
    });
    var _iterator3 = _createForOfIteratorHelper(this.groups),
      _step3;
    try {
      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
        var g = _step3.value;
        if (mainCatNames.includes(g.title)) {
          var m = g.materials.find(function (x) {
            return x.code === code;
          });
          if (m) return m;
        }
      }
    } catch (err) {
      _iterator3.e(err);
    } finally {
      _iterator3.f();
    }
    return null;
  },
  generateIssuePreview: function generateIssuePreview() {
    var _this23 = this;
    if (!this.selectedBom) return;
    this.issuePreview = this.selectedBom.materials.map(function (bi) {
      var m = _this23.findMainWarehouseMaterialByCode(bi.materialCode);
      return {
        materialCode: bi.materialCode,
        materialName: bi.materialName,
        requiredQuantity: bi.requiredQuantity * (parseInt(_this23.batchQuantity) || 0),
        availableQuantity: m ? m.quantity : 0
      };
    });
  },
  confirmBatchIssueToCart: function confirmBatchIssueToCart() {
    var _this24 = this;
    if (!this.canConfirmIssue) return;
    var deptName = this.selectedDepartment ? this.selectedDepartment.name : '';
    this.issuePreview.forEach(function (item) {
      if (item.requiredQuantity > 0) {
        _this24.cartList.push({
          id: Date.now() + Math.random(),
          code: item.materialCode,
          name: item.materialName,
          delta: -item.requiredQuantity,
          type: 'outbound',
          quantity: item.requiredQuantity,
          timestamp: Date.now(),
          meta: {
            department: _this24.selectedDepartment ? _this24.selectedDepartment.code : '',
            departmentName: deptName,
            bomId: _this24.selectedBom ? _this24.selectedBom.id : null,
            bomName: _this24.selectedBom ? _this24.selectedBom.name : '',
            outboundType: _this24.outboundType
          }
        });
      }
    });
    this.saveCartList();
    _util.uiUtils.showSuccess('Â∑≤Âä†ÂÖ•üõí');
    this.closeBatchIssueModal();
    this.openCart();
  },
  /* -------- ÊäΩÂ±âËèúÂçïÂäüËÉΩ -------- */doSearch: function doSearch() {
    uni.navigateTo({
      url: '/pages/search/search'
    });
  },
  goRecords: function goRecords() {
    uni.navigateTo({
      url: '/pages/records/records'
    });
  },
  /* ========== Êñ∞Â¢ûÔºöÂÆåÊï¥ÊãñÊãΩÂà†Èô§ÂäüËÉΩ ========== */onDragStart: function onDragStart(e, item, index) {
    this._userInteracted = true;
    this.beginDrag(e, item, index);
  },
  beginDragCategory: function beginDragCategory(e, category) {
    var categoryWithType = Object.assign({}, category, {
      __dragType: 'category'
    });
    this.beginDrag(e, categoryWithType);
  },
  beginDragMaterial: function beginDragMaterial(e, material, index) {
    var materialWithType = Object.assign({}, material, {
      __dragType: 'material'
    });
    this.beginDrag(e, materialWithType, index);
  },
  beginDrag: function beginDrag(e, item, index) {
    var _this25 = this;
    var t = this._firstTouch(e);
    this.dragX = t.clientX;
    this.dragY = t.clientY;
    this.dragItem = item;
    this.dragIndex = index;
    this.isDragging = true;
    this.isInDeleteZone = false;
    this.dragScrollLock = true; // ‚úÖ Âä†‰∏äÊªöÂä®ÈîÅÂÆö
    // ËÆæÁΩÆÊãñÊãΩÁõÆÊ†áÁ±ªÂûã
    if (item.__dragType) {
      this.dragTarget = {
        type: item.__dragType,
        id: item.id,
        payload: item
      };
      console.log('ËÆæÁΩÆÊãñÊãΩÁõÆÊ†á:', this.dragTarget);
    }
    // Êô∫ËÉΩÂà†Èô§Âå∫ÂáÜÂ§á
    this.prepareDeleteZone(e);
    // Á≠âÂà†Èô§Âå∫ËøõÂú∫ÂêéÂÜçÈáè DOM
    this.$nextTick(function () {
      // Á¨¨‰∏ÄÊ¨° nextTick Á≠â v-if ÊåÇËΩΩ
      _this25.$nextTick(function () {
        // Á¨¨‰∫åÊ¨° nextTick Á≠âËøáÊ∏°Á±ªÂêçÁîüÊïà
        _this25._measureDeleteZone();
      });
    });
  },
  onDragMove: function onDragMove(e) {
    if (!this.isDragging) return;
    this._lastMoveTs = Date.now(); // Êõ¥Êñ∞Êó∂Èó¥Êà≥
    var t = this._firstTouch(e);
    this.dragX = t.clientX;
    this.dragY = t.clientY;
    this._hitTestDeleteZone(t.clientX, t.clientY);
  },
  onDragEnd: function onDragEnd(e) {
    if (!this.isDragging) return;
    if (this.isInDeleteZone && this.dragItem) {
      if (this.dragTarget && this.dragTarget.type === 'category') this.deleteDraggedCategory();else this.deleteDraggedMaterial();
      this.vibrateNow(15);
    }
    this.teardownDeleteZone();
    this._resetDrag();
  },
  onDragCancel: function onDragCancel() {
    this.teardownDeleteZone();
    this._resetDrag();
  },
  _resetDrag: function _resetDrag() {
    this.isDragging = false;
    this.dragItem = null;
    this.dragIndex = -1;
    this.dragTarget = null;
    this.isInDeleteZone = false;
    this.dragScrollLock = false;
    this._lastHit = false;
  },
  /* ========== DOM & ÂëΩ‰∏≠Ê£ÄÊµã ========== */_measureDeleteZone: function _measureDeleteZone() {
    var _this26 = this;
    var q = uni.createSelectorQuery().in(this);
    q.select('#deleteZone').boundingClientRect(function (rect) {
      if (!rect) {
        // ÂÖúÂ∫ïÈáçËØï‰∏ÄÊ¨°
        setTimeout(function () {
          var q2 = uni.createSelectorQuery().in(_this26);
          q2.select('#deleteZone').boundingClientRect(function (r2) {
            _this26.deleteZoneRect = r2 || null;
          }).exec();
        }, 16);
      } else {
        _this26.deleteZoneRect = rect;
      }
    }).exec();
  },
  _hitTestDeleteZone: function _hitTestDeleteZone(x, y) {
    if (!this.deleteZoneRect) return this.isInDeleteZone = false;
    var r = this.deleteZoneRect;
    var hit = x >= r.left && x <= r.right && y >= r.top && y <= r.bottom;
    if (hit && !this._lastHit) this.vibrateNow(10);
    this._lastHit = !!hit;
    this.isInDeleteZone = !!hit;
  },
  _firstTouch: function _firstTouch(e) {
    var t = e.touches && e.touches[0] || e.changedTouches && e.changedTouches[0] || e;
    return {
      clientX: t.clientX != null ? t.clientX : t.pageX,
      clientY: t.clientY != null ? t.clientY : t.pageY
    };
  },
  /* ========== ÂÆûÈôÖÂà†Èô§ÈÄªËæëÔºàÊåâ‰Ω†ÁöÑÊï∞ÊçÆÁªìÊûÑÊîπÔºâ ========== */removeMaterialById: function removeMaterialById(id) {
    if (id == null) return;
    var list = Array.isArray(this.flatMaterials) ? this.flatMaterials : [];
    var idx = list.findIndex(function (x) {
      return x && x.id === id;
    });
    if (idx === -1) return;
    if (this.selectedCategory) {
      var g = this.findGroupByTabAndTitle(this.nid, this.selectedCategory.name);
      if (g && g.materials) {
        var materialIdx = g.materials.findIndex(function (x) {
          return x && x.id === id;
        });
        if (materialIdx !== -1) {
          g.materials.splice(materialIdx, 1);
        }
      }
    }
  },
  /* ========== Êô∫ËÉΩÂà†Èô§Âå∫ÊñπÊ≥ï ========== */prepareDeleteZone: function prepareDeleteZone(e) {
    var _this27 = this;
    var t = this._firstTouch(e);
    var side = this._winH && t.clientY <= this._winH / 2 ? 'top' : 'bottom';
    this.zoneSide = side;
    this.zoneStyle = {};
    this.$nextTick(function () {
      _this27.zoneVisible = true;
    });
  },
  teardownDeleteZone: function teardownDeleteZone() {
    this.zoneVisible = false;
    this.deleteZoneRect = null;
    setTimeout(function () {/* Âä®Áîª 180ms ÂêéÊâßË°åÊõ¥Â§öÊ∏ÖÁêÜ */}, 200);
  },
  // Âè≥‰æßÊùêÊñôÂàóË°®ÊªöÂä®ÔºöÂêëÁà∂Â±ÇÊä•ÂëäÊªöÂä®ËøõÂ∫¶‰∏éÊòØÂê¶Âú®È°∂ÈÉ®ÔºåÂπ∂È©±Âä®Â§¥ÈÉ®ÈöêËóè
  onRightScroll: function onRightScroll(e) {
    var st = e && e.detail && typeof e.detail.scrollTop === 'number' ? e.detail.scrollTop : 0;
    this.$emit('scroll-y', st);
    this.$emit('left-top', st <= 2);
    this._handleHeadHideProgress(st);
  }
}), _name$components$prop);
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"]))

/***/ }),

/***/ 115:
/*!*******************************************************************************************************************************!*\
  !*** C:/Users/chejun/Desktop/woerp/pages/material/material-page.vue?vue&type=style&index=0&id=421059c6&scoped=true&lang=css& ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_style_index_0_id_421059c6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./material-page.vue?vue&type=style&index=0&id=421059c6&scoped=true&lang=css& */ 116);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_style_index_0_id_421059c6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_style_index_0_id_421059c6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_style_index_0_id_421059c6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_style_index_0_id_421059c6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_material_page_vue_vue_type_style_index_0_id_421059c6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 116:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/chejun/Desktop/woerp/pages/material/material-page.vue?vue&type=style&index=0&id=421059c6&scoped=true&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/material/material-page.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/material/material-page-create-component',
    {
        'pages/material/material-page-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('2')['createComponent'](__webpack_require__(110))
        })
    },
    [['pages/material/material-page-create-component']]
]);

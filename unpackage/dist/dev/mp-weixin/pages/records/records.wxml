<view class="records-page data-v-00c304e8"><page-header vue-id="179c960c-1" title="å‡ºå…¥åº“è®°å½•" showBack="{{true}}" class="data-v-00c304e8" bind:__l="__l"></page-header><view class="filter-section data-v-00c304e8"><view class="filter-row data-v-00c304e8"><text class="filter-label data-v-00c304e8">æ—¥æœŸèŒƒå›´</text><view class="date-range data-v-00c304e8"><view data-event-opts="{{[['tap',[['showStartDatePicker',['$event']]]]]}}" class="date-item data-v-00c304e8" bindtap="__e"><text class="date-text data-v-00c304e8">{{startDate||'å¼€å§‹æ—¥æœŸ'}}</text><text class="icon data-v-00c304e8">ğŸ“…</text></view><text class="date-separator data-v-00c304e8">è‡³</text><view data-event-opts="{{[['tap',[['showEndDatePicker',['$event']]]]]}}" class="date-item data-v-00c304e8" bindtap="__e"><text class="date-text data-v-00c304e8">{{endDate||'ç»“æŸæ—¥æœŸ'}}</text><text class="icon data-v-00c304e8">ğŸ“…</text></view></view></view><view class="filter-row data-v-00c304e8"><text class="filter-label data-v-00c304e8">éƒ¨é—¨</text><view data-event-opts="{{[['tap',[['showDeptPicker',['$event']]]]]}}" class="selector data-v-00c304e8" bindtap="__e"><text class="selector-text data-v-00c304e8">{{deptDisplayText}}</text><text class="icon data-v-00c304e8">â–¼</text></view></view><view class="filter-row data-v-00c304e8"><text class="filter-label data-v-00c304e8">æ‰¹æ¬¡</text><view data-event-opts="{{[['tap',[['showBatchPicker',['$event']]]]]}}" class="selector data-v-00c304e8" bindtap="__e"><text class="selector-text data-v-00c304e8">{{selectedBatch||'å…¨éƒ¨æ‰¹æ¬¡'}}</text><text class="icon data-v-00c304e8">â–¼</text></view></view><view class="filter-row data-v-00c304e8"><text class="filter-label data-v-00c304e8">ç±»åˆ«</text><view data-event-opts="{{[['tap',[['showTypePicker',['$event']]]]]}}" class="selector data-v-00c304e8" bindtap="__e"><text class="selector-text data-v-00c304e8">{{categoryDisplayText}}</text><text class="icon data-v-00c304e8">â–¼</text></view></view><view class="filter-row data-v-00c304e8"><outbound-type-picker bind:input="__e" vue-id="179c960c-2" value="{{outboundType}}" data-event-opts="{{[['^input',[['__set_model',['','outboundType','$event',[]]]]]]}}" class="data-v-00c304e8" bind:__l="__l"></outbound-type-picker></view><view class="filter-actions data-v-00c304e8"><view data-event-opts="{{[['tap',[['resetFilters',['$event']]]]]}}" class="action-btn reset-btn data-v-00c304e8" bindtap="__e">é‡ç½®</view><view data-event-opts="{{[['tap',[['searchRecords',['$event']]]]]}}" class="action-btn search-btn data-v-00c304e8" bindtap="__e">æŸ¥è¯¢</view></view></view><block wx:if="{{$root.g0>0}}"><view class="stats-section data-v-00c304e8"><view class="stats-header data-v-00c304e8"><text class="stats-title data-v-00c304e8">ç»Ÿè®¡ä¿¡æ¯</text><view class="stats-actions data-v-00c304e8"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="stats-btn data-v-00c304e8" bindtap="__e"><text class="data-v-00c304e8">{{showStatsDetail?'æ”¶èµ·':'å±•å¼€'}}</text><text class="icon data-v-00c304e8">{{showStatsDetail?'â–²':'â–¼'}}</text></view><view data-event-opts="{{[['tap',[['exportRecords',['$event']]]]]}}" class="export-btn data-v-00c304e8" bindtap="__e">å¯¼å‡º</view></view></view><block wx:if="{{showStatsDetail}}"><view class="stats-content data-v-00c304e8"><view class="stats-row data-v-00c304e8"><text class="stats-label data-v-00c304e8">æ€»è®°å½•æ•°ï¼š</text><text class="stats-value data-v-00c304e8">{{$root.g1}}</text></view><view class="stats-row data-v-00c304e8"><text class="stats-label data-v-00c304e8">å…¥åº“æ€»é‡ï¼š</text><text class="stats-value inbound data-v-00c304e8">{{$root.m0}}</text></view><view class="stats-row data-v-00c304e8"><text class="stats-label data-v-00c304e8">å‡ºåº“æ€»é‡ï¼š</text><text class="stats-value outbound data-v-00c304e8">{{$root.m1}}</text></view><view class="stats-row data-v-00c304e8"><text class="stats-label data-v-00c304e8">å‡€å…¥åº“ï¼š</text><text class="{{['stats-value','data-v-00c304e8',$root.m2>=0?'inbound':'outbound']}}">{{''+$root.m3+''}}</text></view></view></block></view></block><scroll-view class="records-list data-v-00c304e8" scroll-y="{{true}}"><block wx:if="{{$root.g2===0}}"><view class="empty-state data-v-00c304e8"><text class="empty-icon data-v-00c304e8">ğŸ“„</text><text class="empty-text data-v-00c304e8">æš‚æ— è®°å½•</text></view></block><block wx:for="{{$root.l0}}" wx:for-item="record" wx:for-index="__i0__" wx:key="id"><view class="record-item data-v-00c304e8"><view class="record-header data-v-00c304e8"><view class="record-info data-v-00c304e8"><text class="record-code data-v-00c304e8">{{record.$orig.code}}</text><text class="record-name data-v-00c304e8">{{record.$orig.name}}</text></view><view class="{{['record-type','data-v-00c304e8',record.$orig.type]}}">{{''+(record.$orig.type==='inbound'?'å…¥åº“':'å‡ºåº“')+''}}</view></view><view class="record-details data-v-00c304e8"><view class="detail-row data-v-00c304e8"><text class="detail-label data-v-00c304e8">æ•°é‡ï¼š</text><text class="detail-value data-v-00c304e8">{{record.$orig.quantity}}</text></view><view class="detail-row data-v-00c304e8"><text class="detail-label data-v-00c304e8">éƒ¨é—¨ï¼š</text><text class="detail-value data-v-00c304e8">{{record.$orig.department}}</text></view><view class="detail-row data-v-00c304e8"><text class="detail-label data-v-00c304e8">ç±»åˆ«ï¼š</text><text class="detail-value data-v-00c304e8">{{record.$orig.ioTypeLabel}}</text></view><view class="detail-row data-v-00c304e8"><text class="detail-label data-v-00c304e8">æ—¶é—´ï¼š</text><text class="detail-value data-v-00c304e8">{{record.$orig.time}}</text></view><block wx:if="{{record.$orig.batch}}"><view class="detail-row data-v-00c304e8"><text class="detail-label data-v-00c304e8">æ‰¹æ¬¡ï¼š</text><text class="detail-value data-v-00c304e8">{{record.$orig.batch}}</text></view></block><block wx:if="{{record.$orig.meta&&record.$orig.meta.outboundType}}"><view class="detail-row data-v-00c304e8"><text class="detail-label data-v-00c304e8">å‡ºåº“ç±»åˆ«ï¼š</text><text class="detail-value data-v-00c304e8">{{record.m4}}</text></view></block></view><block wx:if="{{record.$orig.signImage}}"><view data-event-opts="{{[['tap',[['previewSignature',['$0'],[[['filteredRecords','id',record.$orig.id,'signImage']]]]]]]}}" class="signature-preview data-v-00c304e8" bindtap="__e"><view class="signature-icon-wrapper data-v-00c304e8"><text class="signature-icon data-v-00c304e8">âœï¸</text></view><view class="signature-text-wrapper data-v-00c304e8"><text class="signature-label data-v-00c304e8">æŸ¥çœ‹ç­¾å</text><text class="signature-tip data-v-00c304e8">ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ç­¾å</text></view><view class="signature-arrow data-v-00c304e8"><text class="arrow-icon data-v-00c304e8">â€º</text></view></view></block></view></block></scroll-view><block wx:if="{{showSignatureModal}}"><view data-event-opts="{{[['tap',[['closeSignatureModal',['$event']]]]]}}" class="signature-modal-mask data-v-00c304e8" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="signature-modal data-v-00c304e8" catchtap="__e"><view class="modal-header data-v-00c304e8"><view class="modal-title-wrapper data-v-00c304e8"><text class="modal-title data-v-00c304e8">ç­¾åé¢„è§ˆ</text><text class="modal-subtitle data-v-00c304e8">Signature Preview</text></view><view data-event-opts="{{[['tap',[['closeSignatureModal',['$event']]]]]}}" class="close-btn-wrapper data-v-00c304e8" bindtap="__e"><view class="close-btn data-v-00c304e8"><text class="close-icon data-v-00c304e8">âœ•</text></view></view></view><view class="signature-content data-v-00c304e8"><view class="signature-frame data-v-00c304e8"><image class="signature-image data-v-00c304e8" src="{{currentSignature}}" mode="aspectFit"></image></view><view class="signature-actions data-v-00c304e8"><view data-event-opts="{{[['tap',[['closeSignatureModal',['$event']]]]]}}" class="action-btn secondary data-v-00c304e8" bindtap="__e"><text class="btn-text data-v-00c304e8">å…³é—­</text></view></view></view></view></view></block></view>
<view class="category-selector-page data-v-edc99f3c"><page-header vue-id="cb694638-1" title="é€‰æ‹©ç±»åˆ«" class="data-v-edc99f3c" bind:__l="__l"></page-header><view class="search-section data-v-edc99f3c"><view class="search-box data-v-edc99f3c"><text class="search-icon data-v-edc99f3c">ğŸ”</text><input class="search-input data-v-edc99f3c" placeholder="æœç´¢ç±»åˆ«åç§°" data-event-opts="{{[['input',[['__set_model',['','searchKeyword','$event',[]]],['onSearchInput',['$event']]]]]}}" value="{{searchKeyword}}" bindinput="__e"/><block wx:if="{{searchKeyword}}"><text data-event-opts="{{[['tap',[['clearSearch',['$event']]]]]}}" class="clear-icon data-v-edc99f3c" bindtap="__e">âœ•</text></block></view></view><view class="category-nav data-v-edc99f3c"><scroll-view class="nav-scroll data-v-edc99f3c" scroll-x="{{true}}"><view class="nav-tabs data-v-edc99f3c"><block wx:for="{{$root.l0}}" wx:for-item="category" wx:for-index="index" wx:key="id"><view data-event-opts="{{[['tap',[['switchCategory',['$0'],[[['mainCategories','id',category.$orig.id]]]]]]]}}" class="{{['nav-tab','data-v-edc99f3c',(currentCategoryId===category.$orig.id)?'active':'']}}" bindtap="__e"><text class="tab-text data-v-edc99f3c">{{category.$orig.name}}</text><text class="tab-count data-v-edc99f3c">{{"("+(category.$orig.children?category.g0:0)+")"}}</text></view></block></view></scroll-view></view><view class="select-all-section data-v-edc99f3c"><view data-event-opts="{{[['tap',[['toggleSelectAll',['$event']]]]]}}" class="select-all-item data-v-edc99f3c" bindtap="__e"><view class="{{['checkbox','data-v-edc99f3c',(isAllSelected)?'checked':'']}}"><block wx:if="{{isAllSelected}}"><text class="check-icon data-v-edc99f3c">âœ“</text></block></view><text class="select-all-text data-v-edc99f3c">{{"å…¨é€‰å½“å‰åˆ†ç±» ("+$root.g1+"/"+$root.g2+")"}}</text></view><view data-event-opts="{{[['tap',[['clearAllSelection',['$event']]]]]}}" class="clear-btn data-v-edc99f3c" bindtap="__e"><text class="data-v-edc99f3c">æ¸…ç©º</text></view></view><scroll-view class="category-list data-v-edc99f3c" scroll-y="{{true}}"><block wx:if="{{$root.g3===0}}"><view class="empty-state data-v-edc99f3c"><text class="empty-icon data-v-edc99f3c">ğŸ“‚</text><text class="empty-text data-v-edc99f3c">{{searchKeyword?'æœªæ‰¾åˆ°åŒ¹é…çš„ç±»åˆ«':'è¯¥åˆ†ç±»ä¸‹æš‚æ— å­ç±»åˆ«'}}</text></view></block><block wx:for="{{$root.l1}}" wx:for-item="subCategory" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['toggleCategory',['$0'],[[['filteredSubCategories','id',subCategory.$orig.id]]]]]]]}}" class="category-item data-v-edc99f3c" bindtap="__e"><view class="category-info data-v-edc99f3c"><view class="{{['checkbox','data-v-edc99f3c',(subCategory.m0)?'checked':'']}}"><block wx:if="{{subCategory.m1}}"><text class="check-icon data-v-edc99f3c">âœ“</text></block></view><view class="category-content data-v-edc99f3c"><text class="category-name data-v-edc99f3c">{{subCategory.$orig.name}}</text><text class="category-desc data-v-edc99f3c">{{subCategory.$orig.description||'æš‚æ— æè¿°'}}</text><view class="category-tags data-v-edc99f3c"><text class="tag data-v-edc99f3c">{{subCategory.$orig.parentName}}</text><block wx:if="{{subCategory.$orig.code}}"><text class="tag code-tag data-v-edc99f3c">{{subCategory.$orig.code}}</text></block></view></view></view><view class="category-status data-v-edc99f3c"><text class="{{['status-text','data-v-edc99f3c',subCategory.$orig.status]}}">{{subCategory.m2}}</text></view></view></block></scroll-view><view class="footer data-v-edc99f3c"><view class="selected-info data-v-edc99f3c"><text class="selected-text data-v-edc99f3c">{{"å·²é€‰æ‹© "+$root.g4+" ä¸ªç±»åˆ«"}}</text></view><view class="footer-actions data-v-edc99f3c"><view data-event-opts="{{[['tap',[['cancelSelection',['$event']]]]]}}" class="action-btn cancel-btn data-v-edc99f3c" bindtap="__e">å–æ¶ˆ</view><view data-event-opts="{{[['tap',[['confirmSelection',['$event']]]]]}}" class="action-btn confirm-btn data-v-edc99f3c" bindtap="__e">ç¡®å®š</view></view></view></view>
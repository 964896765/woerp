<view class="dept-selector-page data-v-48728954"><page-header vue-id="7441bb9c-1" title="é€‰æ‹©éƒ¨é—¨" class="data-v-48728954" bind:__l="__l"></page-header><view class="search-section data-v-48728954"><view class="search-box data-v-48728954"><text class="search-icon data-v-48728954">ğŸ”</text><input class="search-input data-v-48728954" placeholder="æœç´¢éƒ¨é—¨åç§°" data-event-opts="{{[['input',[['__set_model',['','searchKeyword','$event',[]]],['onSearchInput',['$event']]]]]}}" value="{{searchKeyword}}" bindinput="__e"/><block wx:if="{{searchKeyword}}"><text data-event-opts="{{[['tap',[['clearSearch',['$event']]]]]}}" class="clear-icon data-v-48728954" bindtap="__e">âœ•</text></block></view></view><view class="select-all-section data-v-48728954"><view data-event-opts="{{[['tap',[['toggleSelectAll',['$event']]]]]}}" class="select-all-item data-v-48728954" bindtap="__e"><view class="{{['checkbox','data-v-48728954',(isAllSelected)?'checked':'']}}"><block wx:if="{{isAllSelected}}"><text class="check-icon data-v-48728954">âœ“</text></block></view><text class="select-all-text data-v-48728954">{{"å…¨é€‰ ("+$root.g0+"/"+$root.g1+")"}}</text></view><view data-event-opts="{{[['tap',[['clearAllSelection',['$event']]]]]}}" class="clear-btn data-v-48728954" bindtap="__e"><text class="data-v-48728954">æ¸…ç©º</text></view></view><scroll-view class="dept-list data-v-48728954" scroll-y="{{true}}"><block wx:if="{{$root.g2===0}}"><view class="empty-state data-v-48728954"><text class="empty-icon data-v-48728954">ğŸ¢</text><text class="empty-text data-v-48728954">{{searchKeyword?'æœªæ‰¾åˆ°åŒ¹é…çš„éƒ¨é—¨':'æš‚æ— éƒ¨é—¨æ•°æ®'}}</text></view></block><block wx:for="{{$root.l0}}" wx:for-item="dept" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['toggleDept',['$0'],[[['filteredDepts','id',dept.$orig.id]]]]]]]}}" class="dept-item data-v-48728954" bindtap="__e"><view class="dept-info data-v-48728954"><view class="{{['checkbox','data-v-48728954',(dept.m0)?'checked':'']}}"><block wx:if="{{dept.m1}}"><text class="check-icon data-v-48728954">âœ“</text></block></view><view class="dept-content data-v-48728954"><text class="dept-name data-v-48728954">{{dept.$orig.name}}</text><text class="dept-desc data-v-48728954">{{dept.$orig.description||'æš‚æ— æè¿°'}}</text></view></view><view class="dept-count data-v-48728954"><text class="count-text data-v-48728954">{{(dept.$orig.memberCount||0)+"äºº"}}</text></view></view></block></scroll-view><view class="footer data-v-48728954"><view class="selected-info data-v-48728954"><text class="selected-text data-v-48728954">{{"å·²é€‰æ‹© "+$root.g3+" ä¸ªéƒ¨é—¨"}}</text></view><view class="footer-actions data-v-48728954"><view data-event-opts="{{[['tap',[['cancelSelection',['$event']]]]]}}" class="action-btn cancel-btn data-v-48728954" bindtap="__e">å–æ¶ˆ</view><view data-event-opts="{{[['tap',[['confirmSelection',['$event']]]]]}}" class="action-btn confirm-btn data-v-48728954" bindtap="__e">ç¡®å®š</view></view></view></view>
{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/chejun/Desktop/woerp/pages/material/index.vue?8eb4","webpack:///C:/Users/chejun/Desktop/woerp/pages/material/index.vue?ab6a","webpack:///C:/Users/chejun/Desktop/woerp/pages/material/index.vue?9d30","webpack:///C:/Users/chejun/Desktop/woerp/pages/material/index.vue?9b28","uni-app:///pages/material/index.vue","webpack:///C:/Users/chejun/Desktop/woerp/pages/material/index.vue?87a4","webpack:///C:/Users/chejun/Desktop/woerp/pages/material/index.vue?c085"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","materialPage","SafeTop","data","headerH","headerHPx","headerOffsetPx","headerOpacity","scrollInto","tabIndex","swiperDisable","_axisIntent","_sx","_sy","tabList","id","name","nid","created","methods","onLeftTop","onScrollY","switchTab","onSwiperChange","onAxisStart","onAxisMove","onAxisEnd","onSwipeTab","max"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACoL;AACpL,gBAAgB,6LAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kOAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA0qB,CAAgB,+rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCuB9rB;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACA;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC,UACA;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA;IAEA;EACA;EACAC;IACA;IACA;MACA;IACA;MAAA;IAAA;EACA;EACAC;IACAC;MACA;MACA;QAAA;QAAA;MAAA,OACA;QAAA;QAAA;MAAA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;QAAA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;IAAA;IAEA;IACAC;MACA;QAAAC;MACA,0EACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/GA;AAAA;AAAA;AAAA;AAA09B,CAAgB,o9BAAG,EAAC,C;;;;;;;;;;;ACA9+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/material/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/material/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=2f96d4ba&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/material/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=2f96d4ba&\"","var components\ntry {\n  components = {\n    customHeadBar: function () {\n      return import(\n        /* webpackChunkName: \"components/custom-head-bar/custom-head-bar\" */ \"@/components/custom-head-bar/custom-head-bar.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"page\" @touchstart=\"onAxisStart\" @touchmove.stop.prevent=\"onAxisMove\" @touchend=\"onAxisEnd\" @touchcancel=\"onAxisEnd\">\n    <SafeTop />\n    <custom-head-bar class=\"header\" :style=\"{ transform: 'translateY(' + headerOffsetPx + 'px)', opacity: headerOpacity }\" />\n    <view class=\"content\" :style=\"{ marginTop: headerOffsetPx + 'px' }\">\n      <scroll-view class=\"tabbar\" :scroll-x=\"true\" :show-scrollbar=\"false\" :scroll-into-view=\"scrollInto\" enable-flex>\n        <view v-for=\"(tab, i) in tabList\" :key=\"tab.id\" :id=\"'tab-' + i\" class=\"tab\" @tap=\"switchTab(i)\">\n          <text :class=\"['tab-text', i===tabIndex?'active':'']\">{{ tab.name }}</text>\n        </view>\n      </scroll-view>\n      <swiper class=\"swiper\" :current=\"tabIndex\" :duration=\"300\" :disable-touch=\"swiperDisable\" @change=\"onSwiperChange\">\n        <swiper-item v-for=\"(tab, i) in tabList\" :key=\"tab.id\">\n          <materialPage class=\"page-item\" :nid=\"tab.nid\" @left-top=\"onLeftTop\" @scroll-y=\"onScrollY\" @swipe-tab=\"onSwipeTab\" />\n        </swiper-item>\n      </swiper>\n    </view>\n  </view>\n</template>\n\n<script>\nimport materialPage from './material-page.vue'\nimport SafeTop from '@/components/page-header/SafeTop.vue';\n\nexport default {\n  components: { materialPage, SafeTop },\n  data() {\n    return {\n      headerH: 260,\n      // 统一使用 px 单位进行位移，避免 rpx 与滚动 px 不一致\n      headerHPx: 0,\n      headerOffsetPx: 0,\n      headerOpacity: 1,\n      scrollInto: '',\n      tabIndex: 0,\n      // 手势轴向锁\n      swiperDisable: false,\n      _axisIntent: null,\n      _sx: 0,\n      _sy: 0,\n      tabList: [\n        { id: 'tab01', name: '主材仓', nid: 0 },\n        { id: 'tab02', name: '车间仓', nid: 1 },\n        { id: 'tab03', name: 'BOM',   nid: 2 },\n        { id: 'tab04', name: 'PACK',  nid: 3 },\n        { id: 'tab05', name: '辅料仓', nid: 4 },\n        { id: 'tab06', name: '待处理', nid: 5 }\n      ]\n    }\n  },\n  created(){\n    // 将 rpx 高度转换为 px，确保与 scrollTop 的单位一致\n    try {\n      this.headerHPx = (uni && typeof uni.upx2px === 'function') ? uni.upx2px(this.headerH) : this.headerH\n    } catch(e){ this.headerHPx = this.headerH }\n  },\n  methods: {\n    onLeftTop(isTop) {\n      // 顶部状态：直接复位或完全隐藏\n      if (isTop) { this.headerOffsetPx = 0; this.headerOpacity = 1; }\n      else { this.headerOffsetPx = -this.headerHPx; this.headerOpacity = 0; }\n    },\n    // 根据滚动进度按比例隐藏头部（平滑过渡）\n    onScrollY(st){\n      // st 为 px，按头部高度上限进行位移与透明度计算\n      const offset = Math.min(this.headerHPx, Math.max(0, st))\n      this.headerOffsetPx = -offset\n      const op = 1 - (offset / (this.headerHPx || 1))\n      this.headerOpacity = Math.max(0, Math.min(1, op))\n    },\n    switchTab(i) {\n      if (i === this.tabIndex) return\n      this.tabIndex = i\n      this.scrollInto = 'tab-' + i\n    },\n    onSwiperChange(e) {\n      const i = (e && e.detail && typeof e.detail.current === 'number') ? e.detail.current : 0\n      this.tabIndex = i\n      this.scrollInto = 'tab-' + i\n    },\n    // —— 轴向锁：避免横纵冲突 ——\n    onAxisStart(e){\n      const t = (e.touches && e.touches[0]) || e\n      this._sx = t.pageX || t.clientX || 0\n      this._sy = t.pageY || t.clientY || 0\n      this._axisIntent = null\n      this.swiperDisable = false\n    },\n    onAxisMove(e){\n      if (this._axisIntent) return\n      const t = (e.touches && e.touches[0]) || e\n      const dx = Math.abs((t.pageX||t.clientX||0) - this._sx)\n      const dy = Math.abs((t.pageY||t.clientY||0) - this._sy)\n      const TH = 12\n      if (dy > dx && dy > TH) { // 纵向为主 → 禁止 swiper 接手\n        this._axisIntent = 'y'\n        this.swiperDisable = true\n      } else if (dx > dy && dx > TH) {\n        this._axisIntent = 'x'\n        this.swiperDisable = false\n      }\n    },\n    onAxisEnd(){ this._axisIntent = null; this.swiperDisable = false },\n    \n    // 处理子组件发出的滑动切换事件\n    onSwipeTab(dir){\n      const min = 0, max = this.tabList.length - 1\n      if(dir === 'next') this.tabIndex = Math.min(max, this.tabIndex + 1)\n      else this.tabIndex = Math.max(min, this.tabIndex - 1)\n      this.scrollInto = 'tab-' + this.tabIndex\n    }\n  }\n}\n</script>\n\n<style>\n/* 移动端适配样式 */\n.page { \n  flex: 1; \n  background: #f6f7fb;\n  height: 100vh;\n  /* 安全区域适配 - 先给固定 35px 兜底，再用 env 覆盖 */\n  padding-top: 35px;\n  padding-top: constant(safe-area-inset-top);\n  padding-top: env(safe-area-inset-top);\n  padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom);\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.header { \n  position: relative; \n  z-index: 2; \n  will-change: transform, opacity; \n  transition: transform .2s ease, opacity .2s;\n  flex-shrink: 0;\n}\n\n.content { \n  flex: 1; \n  position: relative; \n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  overflow: hidden;\n}\n\n.tabbar { \n  height: 88rpx; \n  min-height: 44px; /* 移动端最小高度 */\n  background: #fff; \n  border-bottom: 1px solid #eef0f4; \n  white-space: nowrap; \n  display: flex; \n  align-items: center;\n  flex-shrink: 0;\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n.tab { \n  display: inline-flex; \n  padding: 0 28rpx; \n  min-width: 120rpx; /* 确保最小宽度 */\n  height: 88rpx; \n  align-items: center; \n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.tab-text { \n  font-size: 32rpx; \n  color: #555; \n  line-height: 88rpx;\n  white-space: nowrap;\n}\n\n.tab-text.active { \n  color: #ff4d4f; \n  font-weight: 800; \n}\n\n.swiper { \n  flex: 1;\n  height: 100%; /* 使用100%高度，让父容器的padding处理安全区域 */\n  min-height: 0;\n}\n\n.page-item { \n  flex: 1;\n  height: 100%;\n}\n\n/* 移动端响应式样式 */\n@media screen and (max-width: 480px) {\n  .tabbar {\n    height: 80rpx;\n    min-height: 40px;\n  }\n  .tab {\n    padding: 0 24rpx;\n    min-width: 100rpx;\n    height: 80rpx;\n  }\n  .tab-text {\n    font-size: 30rpx;\n    line-height: 80rpx;\n  }\n  .swiper { height: 100%; }\n}\n\n@media screen and (max-width: 375px) {\n  .tab {\n    padding: 0 20rpx;\n    min-width: 90rpx;\n  }\n  .tab-text { font-size: 28rpx; }\n}\n\n/* 横屏适配 */\n@media screen and (orientation: landscape) and (max-height: 500px) {\n  .swiper { height: 100%; }\n}\n\n/* 超小屏幕适配 */\n@media screen and (max-width: 320px) {\n  .tabbar {\n    height: 76rpx;\n    min-height: 38px;\n  }\n  .tab {\n    padding: 0 16rpx;\n    min-width: 80rpx;\n    height: 76rpx;\n  }\n  .tab-text {\n    font-size: 26rpx;\n    line-height: 76rpx;\n  }\n  .swiper { height: 100%; }\n}\n</style>\n","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1763278093079\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
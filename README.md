# woerp - ç”µèŠ¯è¡Œä¸šææ–™ç®¡ç†ç³»ç»Ÿ

<div align="center">

![Version](https://img.shields.io/badge/version-3.1.23-blue.svg)
![UniApp](https://img.shields.io/badge/UniApp-Vue2-green.svg)
![License](https://img.shields.io/badge/license-ISC-orange.svg)

åŸºäº UniApp + Vue2 å¼€å‘çš„ç”µèŠ¯è¡Œä¸šåŸææ–™ç®¡ç†ERPç³»ç»Ÿ

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„) â€¢ [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—) â€¢ [éƒ¨ç½²è¯´æ˜](#éƒ¨ç½²è¯´æ˜)

</div>

---

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

**woerp (myERP)** æ˜¯ä¸€æ¬¾ä¸“ä¸ºç”µèŠ¯åˆ¶é€ è¡Œä¸šè®¾è®¡çš„åŸææ–™ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨ UniApp æ¡†æ¶å¼€å‘ï¼Œæ”¯æŒå¤šç«¯éƒ¨ç½²ï¼ˆH5ã€å¾®ä¿¡å°ç¨‹åºã€Appï¼‰ï¼Œä¸ºä¼ä¸šæä¾›é«˜æ•ˆçš„ç‰©æ–™ç®¡ç†ã€å‡ºå…¥åº“ç®¡ç†ã€åº“å­˜æŸ¥è¯¢ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

### æ ¸å¿ƒä»·å€¼

- **å¤šä»“åº“ç®¡ç†**ï¼šæ”¯æŒä¸»æä»“ã€è½¦é—´ä»“ã€BOMã€PACKã€è¾…æ–™ä»“ç­‰å¤šç§ä»“åº“ç±»å‹
- **çµæ´»å‡ºå…¥åº“**ï¼šæ”¯æŒå¤šç§å‡ºåº“ç±»å‹ï¼ˆç”Ÿäº§é¢†æ–™ã€æ‰¹æ¬¡å‡ºåº“ã€è¡¥æ–™å‡ºåº“ç­‰ï¼‰
- **å®æ—¶åº“å­˜**ï¼šå®æ—¶æŸ¥è¯¢å„ä»“åº“ç‰©æ–™åº“å­˜çŠ¶æ€
- **ç§»åŠ¨ä¼˜å…ˆ**ï¼šä¸“ä¸ºç§»åŠ¨ç«¯ä¼˜åŒ–çš„äº¤äº’ä½“éªŒ

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### ğŸ” ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·ç™»å½•è®¤è¯
- è‡ªå®šä¹‰å¯¼èˆªæ 

#### ğŸ“¦ ç‰©æ–™ç®¡ç†
- **å¤šä»“åº“è§†å›¾**ï¼šä¸»æä»“ã€è½¦é—´ä»“ã€BOMã€PACKã€è¾…æ–™ä»“ã€å¾…å¤„ç†
- **å·¦å³æ»‘åŠ¨åˆ‡æ¢**ï¼šæµç•…çš„ä»“åº“åˆ‡æ¢ä½“éªŒ
- **å¸é¡¶æ•ˆæœ**ï¼šæ™ºèƒ½å¤´éƒ¨å¸é¡¶ï¼Œä¼˜åŒ–æµè§ˆä½“éªŒ
- **ç‰©æ–™æœç´¢**ï¼šå¿«é€ŸæŸ¥æ‰¾ç‰©æ–™ä¿¡æ¯

#### ğŸ“¤ å‡ºå…¥åº“ç®¡ç†
- **å‡ºåº“ç±»å‹**ï¼š
  - é‡‡è´­é€€è´§
  - äº§çº¿é€€ä»“
  - ç”Ÿäº§é¢†æ–™
  - æ‰¹æ¬¡å‡ºåº“
  - è¶…é¢†å‡ºåº“
  - è¡¥æ–™å‡ºåº“
  - åˆ¶æ–™é¢†æ–™
  - è¾…æ–™å‡ºåº“
- **ç»“ç®—åŠŸèƒ½**ï¼šç»Ÿä¸€çš„å‡ºå…¥åº“ç»“ç®—é¡µé¢
- **è®°å½•æŸ¥è¯¢**ï¼šå®Œæ•´çš„å‡ºå…¥åº“å†å²è®°å½•

#### ğŸ¨ UIç»„ä»¶
- è‡ªå®šä¹‰é”®ç›˜ï¼ˆæ•°å­—è¾“å…¥ï¼‰
- éƒ¨é—¨é€‰æ‹©å™¨
- ç±»åˆ«é€‰æ‹©å™¨
- å‡ºåº“ç±»å‹é€‰æ‹©å™¨
- å®‰å…¨åŒºé€‚é…

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 12.0.0
- **HBuilderX**: æ¨èä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
- **Yarn**: æ¨èä½¿ç”¨ Yarn è¿›è¡Œä¾èµ–ç®¡ç†

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/964896765/woerp.git
cd woerp
```

2. **å®‰è£…ä¾èµ–**

```bash
yarn install
# æˆ–
npm install
```

3. **è¿è¡Œé¡¹ç›®**

**H5ç«¯è¿è¡Œ**ï¼š
```bash
# åœ¨ HBuilderX ä¸­æ‰“å¼€é¡¹ç›®
# ç‚¹å‡» è¿è¡Œ -> è¿è¡Œåˆ°æµè§ˆå™¨ -> Chrome
```

**å¾®ä¿¡å°ç¨‹åºè¿è¡Œ**ï¼š
```bash
# åœ¨ HBuilderX ä¸­æ‰“å¼€é¡¹ç›®
# ç‚¹å‡» è¿è¡Œ -> è¿è¡Œåˆ°å°ç¨‹åºæ¨¡æ‹Ÿå™¨ -> å¾®ä¿¡å¼€å‘è€…å·¥å…·
```

**Appç«¯è¿è¡Œ**ï¼š
```bash
# åœ¨ HBuilderX ä¸­æ‰“å¼€é¡¹ç›®
# ç‚¹å‡» è¿è¡Œ -> è¿è¡Œåˆ°æ‰‹æœºæˆ–æ¨¡æ‹Ÿå™¨
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
woerp/
â”œâ”€â”€ pages/                      # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ login/                 # ç™»å½•é¡µé¢
â”‚   â”‚   â””â”€â”€ login.vue
â”‚   â”œâ”€â”€ material/              # ç‰©æ–™ç®¡ç†ä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ index.vue          # ä¸»é¡µå…¥å£ï¼ˆå¤šä»“åº“åˆ‡æ¢ï¼‰
â”‚   â”‚   â””â”€â”€ material-page.vue  # ç‰©æ–™åˆ—è¡¨å­é¡µé¢
â”‚   â”œâ”€â”€ search/                # æœç´¢é¡µé¢
â”‚   â”‚   â””â”€â”€ search.vue
â”‚   â”œâ”€â”€ checkout/              # å‡ºå…¥åº“ç»“ç®—
â”‚   â”‚   â””â”€â”€ checkout.vue
â”‚   â””â”€â”€ records/               # å‡ºå…¥åº“è®°å½•
â”‚       â”œâ”€â”€ records.vue
â”‚       â””â”€â”€ date-picker.vue    # æ—¥æœŸé€‰æ‹©å™¨
â”œâ”€â”€ components/                # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ category-selector/     # ç±»åˆ«é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ custom-head-bar/       # è‡ªå®šä¹‰å¤´éƒ¨æ 
â”‚   â”œâ”€â”€ custom-keyboard/       # è‡ªå®šä¹‰æ•°å­—é”®ç›˜
â”‚   â”œâ”€â”€ dept-selector/         # éƒ¨é—¨é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ outbound-type-picker/  # å‡ºåº“ç±»å‹é€‰æ‹©å™¨
â”‚   â””â”€â”€ page-header/           # é¡µé¢å¤´éƒ¨ç»„ä»¶
â”‚       â”œâ”€â”€ SafeTop.vue        # å®‰å…¨åŒºç»„ä»¶
â”‚       â””â”€â”€ page-header.vue
â”œâ”€â”€ store/                     # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ constants.js           # å¸¸é‡å®šä¹‰ï¼ˆå‡ºåº“ç±»å‹ç­‰ï¼‰
â”œâ”€â”€ common/                    # å…¬å…±èµ„æº
â”œâ”€â”€ static/                    # é™æ€èµ„æºï¼ˆå›¾ç‰‡ã€å­—ä½“ç­‰ï¼‰
â”œâ”€â”€ mixins/                    # æ··å…¥
â”œâ”€â”€ uni_modules/               # uni-app æ’ä»¶æ¨¡å—
â”œâ”€â”€ App.vue                    # åº”ç”¨é…ç½®
â”œâ”€â”€ main.js                    # å…¥å£æ–‡ä»¶
â”œâ”€â”€ pages.json                 # é¡µé¢è·¯ç”±é…ç½®
â”œâ”€â”€ manifest.json              # åº”ç”¨é…ç½®æ¸…å•
â”œâ”€â”€ uni.scss                   # å…¨å±€æ ·å¼å˜é‡
â””â”€â”€ package.json               # é¡¹ç›®ä¾èµ–é…ç½®
```

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| UniApp | - | è·¨å¹³å°åº”ç”¨æ¡†æ¶ |
| Vue | 2.x | æ¸è¿›å¼JavaScriptæ¡†æ¶ |
| SCSS | - | CSSé¢„å¤„ç†å™¨ |

### æ ¸å¿ƒé…ç½®æ–‡ä»¶

#### pages.json - é¡µé¢è·¯ç”±é…ç½®

å®šä¹‰åº”ç”¨çš„é¡µé¢è·¯å¾„ã€çª—å£æ ·å¼ã€å¯¼èˆªæ ç­‰é…ç½®ã€‚

```json
{
  "pages": [
    {
      "path": "pages/login/login",
      "style": {
        "navigationBarTitleText": "ç™»å½•",
        "navigationStyle": "custom"
      }
    }
    // ...å…¶ä»–é¡µé¢é…ç½®
  ]
}
```

#### manifest.json - åº”ç”¨é…ç½®æ¸…å•

é…ç½®åº”ç”¨åç§°ã€ç‰ˆæœ¬å·ã€æƒé™ã€å¹³å°ç‰¹å®šé…ç½®ç­‰ã€‚

#### uni.scss - å…¨å±€æ ·å¼å˜é‡

å®šä¹‰å…¨å±€ SCSS å˜é‡ï¼Œå¯åœ¨æ‰€æœ‰é¡µé¢å’Œç»„ä»¶ä¸­ä½¿ç”¨ã€‚

### å¼€å‘è§„èŒƒ

#### ä»£ç é£æ ¼

- ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿›
- ç»„ä»¶åä½¿ç”¨ PascalCase
- æ–‡ä»¶åä½¿ç”¨ kebab-case
- å˜é‡åä½¿ç”¨ camelCase

#### ç»„ä»¶å¼€å‘

1. **ç»„ä»¶å‘½å**ï¼šä½¿ç”¨è¯­ä¹‰åŒ–çš„åç§°ï¼Œå¦‚ `custom-keyboard`
2. **ç»„ä»¶å¤ç”¨**ï¼šå°†é€šç”¨åŠŸèƒ½å°è£…ä¸ºå…¬å…±ç»„ä»¶
3. **Props éªŒè¯**ï¼šä¸ºç»„ä»¶ props æ·»åŠ ç±»å‹å’Œé»˜è®¤å€¼
4. **äº‹ä»¶å‘½å**ï¼šä½¿ç”¨ kebab-caseï¼Œå¦‚ `@left-top`

#### é¡µé¢å¼€å‘

1. **é¡µé¢ç»“æ„**ï¼štemplateã€scriptã€style åˆ†ç¦»
2. **ç”Ÿå‘½å‘¨æœŸ**ï¼šåˆç†ä½¿ç”¨ Vue å’Œ UniApp ç”Ÿå‘½å‘¨æœŸ
3. **æ•°æ®ç®¡ç†**ï¼šå¤æ‚çŠ¶æ€ä½¿ç”¨ Vuex æˆ– Pinia
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šé¿å…é¢‘ç¹çš„ setDataï¼Œä½¿ç”¨è®¡ç®—å±æ€§

### å¸¸ç”¨å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
yarn install

# æ¸…ç†ç¼“å­˜
yarn cache clean

# æŸ¥çœ‹ä¾èµ–æ ‘
yarn list --depth=0
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. å¤šä»“åº“åˆ‡æ¢

ä½¿ç”¨ `swiper` ç»„ä»¶å®ç°å·¦å³æ»‘åŠ¨åˆ‡æ¢ä»“åº“ï¼Œé…åˆ `scroll-view` å®ç°é¡¶éƒ¨æ ‡ç­¾æ çš„æ¨ªå‘æ»šåŠ¨ã€‚

**å…³é”®ä»£ç **ï¼š`pages/material/index.vue`

```vue
<swiper :current="tabIndex" @change="onSwiperChange">
  <swiper-item v-for="tab in tabList" :key="tab.id">
    <materialPage :nid="tab.nid" />
  </swiper-item>
</swiper>
```

### 2. å¤´éƒ¨å¸é¡¶æ•ˆæœ

é€šè¿‡ç›‘å¬æ»šåŠ¨ä½ç½®ï¼ŒåŠ¨æ€è°ƒæ•´å¤´éƒ¨çš„ `transform` å’Œ `opacity`ï¼Œå®ç°å¹³æ»‘çš„å¸é¡¶æ•ˆæœã€‚

**å…³é”®ä»£ç **ï¼š`pages/material/index.vue`

```javascript
onScrollY(st) {
  const offset = Math.min(this.headerHPx, Math.max(0, st))
  this.headerOffsetPx = -offset
  this.headerOpacity = 1 - (offset / this.headerHPx)
}
```

### 3. æ‰‹åŠ¿è½´å‘é”å®š

é¿å…æ¨ªå‘æ»‘åŠ¨ï¼ˆswiperï¼‰ä¸çºµå‘æ»šåŠ¨ï¼ˆscroll-viewï¼‰å†²çªï¼Œé€šè¿‡åˆ¤æ–­æ‰‹åŠ¿æ–¹å‘åŠ¨æ€ç¦ç”¨ swiperã€‚

**å…³é”®ä»£ç **ï¼š`pages/material/index.vue`

```javascript
onAxisMove(e) {
  const dx = Math.abs(currentX - startX)
  const dy = Math.abs(currentY - startY)
  if (dy > dx && dy > threshold) {
    this.swiperDisable = true  // çºµå‘æ»šåŠ¨æ—¶ç¦ç”¨ swiper
  }
}
```

### 4. è‡ªå®šä¹‰é”®ç›˜

å°è£…è‡ªå®šä¹‰æ•°å­—é”®ç›˜ç»„ä»¶ï¼Œç”¨äºå‡ºå…¥åº“æ•°é‡è¾“å…¥ï¼Œæä¾›ç»Ÿä¸€çš„è¾“å…¥ä½“éªŒã€‚

**ç»„ä»¶ä½ç½®**ï¼š`components/custom-keyboard/`

---

## ğŸ“± å¤šç«¯é€‚é…

### H5ç«¯

- æ”¯æŒæµè§ˆå™¨è®¿é—®
- å“åº”å¼å¸ƒå±€
- è·¯ç”±æ¨¡å¼ï¼šhash

### å¾®ä¿¡å°ç¨‹åº

- å°ç¨‹åº appidï¼š`wxc712b3b1674c8d88`
- æ”¯æŒå°ç¨‹åºç‰¹æœ‰åŠŸèƒ½ï¼ˆå¦‚æ‰«ç ã€ä½ç½®ç­‰ï¼‰

### Appç«¯

- æ”¯æŒ Android å’Œ iOS
- åŸç”Ÿæ€§èƒ½ä¼˜åŒ–
- æ”¯æŒæ‰“åŒ…å‘å¸ƒ

---

## ğŸš¢ éƒ¨ç½²è¯´æ˜

### H5éƒ¨ç½²

1. **æ„å»ºé¡¹ç›®**

```bash
# åœ¨ HBuilderX ä¸­
# å‘è¡Œ -> H5-æ‰‹æœºç‰ˆ -> ç½‘ç«™é…ç½®
```

2. **ä¸Šä¼ æœåŠ¡å™¨**

å°† `unpackage/dist/build/h5` ç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚

3. **é…ç½® Nginx**

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        root /path/to/h5;
        index index.html;
        try_files $uri $uri/ /index.html;
    }
}
```

### å°ç¨‹åºå‘å¸ƒ

1. åœ¨ HBuilderX ä¸­ï¼šå‘è¡Œ -> å°ç¨‹åº-å¾®ä¿¡
2. ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ç”Ÿæˆçš„é¡¹ç›®
3. ä¸Šä¼ ä»£ç å¹¶æäº¤å®¡æ ¸

### Appæ‰“åŒ…

1. åœ¨ HBuilderX ä¸­ï¼šå‘è¡Œ -> åŸç”ŸApp-äº‘æ‰“åŒ…
2. é…ç½®è¯ä¹¦å’Œæ‰“åŒ…å‚æ•°
3. æäº¤æ‰“åŒ…å¹¶ä¸‹è½½å®‰è£…åŒ…

---

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒé…ç½®

å»ºè®®åˆ›å»º `.env` æ–‡ä»¶ç®¡ç†ç¯å¢ƒå˜é‡ï¼š

```bash
# .env.development
VUE_APP_API_BASE_URL=http://localhost:8000/api
VUE_APP_ENV=development

# .env.production
VUE_APP_API_BASE_URL=https://api.yourdomain.com
VUE_APP_ENV=production
```

### APIé…ç½®

åœ¨ `common/` ç›®å½•ä¸‹åˆ›å»º `api.js` é…ç½® API æ¥å£ï¼š

```javascript
// common/api.js
const BASE_URL = process.env.VUE_APP_API_BASE_URL || '/api'

export default {
  // ç™»å½•
  login: BASE_URL + '/auth/login',
  // ç‰©æ–™åˆ—è¡¨
  materials: BASE_URL + '/materials',
  // å‡ºå…¥åº“è®°å½•
  records: BASE_URL + '/records',
  // ...å…¶ä»–æ¥å£
}
```

---

## ğŸ“Š æ•°æ®ç»“æ„

### å‡ºåº“ç±»å‹

```javascript
// store/constants.js
export const OUTBOUND_TYPES = [
  { value: 'purchase_return', label: 'é‡‡è´­é€€è´§' },
  { value: 'line_return', label: 'äº§çº¿é€€ä»“' },
  { value: 'issue_production', label: 'ç”Ÿäº§é¢†æ–™' },
  { value: 'batch_out', label: 'æ‰¹æ¬¡å‡ºåº“' },
  { value: 'over_issue', label: 'è¶…é¢†å‡ºåº“' },
  { value: 'replenish', label: 'è¡¥æ–™å‡ºåº“' },
  { value: 'prep_issue', label: 'åˆ¶æ–™é¢†æ–™' },
  { value: 'aux_out', label: 'è¾…æ–™å‡ºåº“' }
]
```

### ä»“åº“ç±»å‹

```javascript
const WAREHOUSE_TYPES = [
  { id: 'tab01', name: 'ä¸»æä»“', nid: 0 },
  { id: 'tab02', name: 'è½¦é—´ä»“', nid: 1 },
  { id: 'tab03', name: 'BOM', nid: 2 },
  { id: 'tab04', name: 'PACK', nid: 3 },
  { id: 'tab05', name: 'è¾…æ–™ä»“', nid: 4 },
  { id: 'tab06', name: 'å¾…å¤„ç†', nid: 5 }
]
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç å®¡æŸ¥

æ‰€æœ‰ Pull Request éœ€è¦ç»è¿‡ä»£ç å®¡æŸ¥åæ‰èƒ½åˆå¹¶ã€‚

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v3.1.23 (å½“å‰ç‰ˆæœ¬)

- âœ¨ å®ç°å¤šä»“åº“ç®¡ç†åŠŸèƒ½
- âœ¨ æ·»åŠ å‡ºå…¥åº“ç»“ç®—åŠŸèƒ½
- âœ¨ å®ç°è‡ªå®šä¹‰é”®ç›˜ç»„ä»¶
- âœ¨ ä¼˜åŒ–å¤´éƒ¨å¸é¡¶æ•ˆæœ
- ğŸ› ä¿®å¤æ‰‹åŠ¿å†²çªé—®é¢˜

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [ISC](https://opensource.org/licenses/ISC) è®¸å¯è¯ã€‚

---

## ğŸ“® è”ç³»æ–¹å¼

- **GitHub**: [964896765/woerp](https://github.com/964896765/woerp)
- **Issues**: [æäº¤é—®é¢˜](https://github.com/964896765/woerp/issues)

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

---

<div align="center">

**Made with â¤ï¸ for ç”µèŠ¯åˆ¶é€ è¡Œä¸š**

</div>
